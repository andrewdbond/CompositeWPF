[
  {
    "Id": "840507",
    "ThreadId": "357015",
    "Html": "\r\n<p>Hello,</p>\r\n<p>Please find a re-pro project at <a href=\"https://skydrive.live.com/?cid=e2d58421786a3234#cid=E2D58421786A3234&id=E2D58421786A3234%21105\">\r\nhttps://skydrive.live.com/?cid=e2d58421786a3234#cid=E2D58421786A3234&amp;id=E2D58421786A3234%21105</a>&nbsp;</p>\r\n<p>As you can tell in the project, I have 3 modules.&nbsp; Orders and Products can be accessed from the buttons below or clicking on the links on the left hand side of the screen.</p>\r\n<p>As you can see, each of the Orders and Product Modules have a button to launch a modal dialog.&nbsp; Also, notice that I can not do anything once the modal dialog is launched.</p>\r\n<p>I want to be able to launch a modal dialog from each module and be able to navigate back and forth between modules.&nbsp;</p>\r\n<p>Can you assist please.</p>\r\n",
    "PostedDate": "2012-05-24T09:21:34.937-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "840564",
    "ThreadId": "357015",
    "Html": "\r\n<p>Hi,</p>\r\n<p>I have checked your repro-sample application and, based on my understanding of your desired scenario, it seems that this can be achieved by performing a couple of changes in your code. For example, you can declare the following popup regions:</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:green\">&lt;!-- In ProductView --&gt;</span>\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Bish.Modules.Products.Views.ProductView</span><span style=\"color:black\">&quot;</span>\n             <span style=\"color:red\">...</span>\n             <span style=\"color:red\">xmlns:PopupBehavior</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:Bish.Infrastructure.PopupBehavior;assembly=Bish.Infrastructure</span><span style=\"color:black\">&quot;</span>\n             <span style=\"color:red\">PopupBehavior:RegionPopupBehaviors.CreatePopupRegionWithName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ProductPopupRegion</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\n\n<span style=\"color:green\">&lt;!-- In OrderView --&gt;</span>\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Bish.Modules.Orders.Views.OrderView</span><span style=\"color:black\">&quot;</span>\n             <span style=\"color:red\">...</span>\n             <span style=\"color:red\">xmlns:PopupBehavior</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:Bish.Infrastructure.PopupBehavior;assembly=Bish.Infrastructure</span><span style=\"color:black\">&quot;</span>\n             <span style=\"color:red\">PopupBehavior:RegionPopupBehaviors.CreatePopupRegionWithName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">OrderPopupRegion</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\n</pre>\r\n</div>\r\n<p>Navigate to the aforementioned regions in your view models:</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:green\">// In ProductViewModel's ShowProductDetails method</span>\n_regionManager.RequestNavigate(<span style=\"color:#a31515\">&quot;ProductPopupRegion&quot;</span>, <span style=\"color:blue\">new</span> Uri(ViewNames.ProductDetailView, UriKind.Relative));\n\n<span style=\"color:green\">// In OrderViewModel's ShowOrderDetails method</span>\n_regionManager.RequestNavigate(<span style=\"color:#a31515\">&quot;OrderPopupRegion&quot;</span>, <span style=\"color:blue\">new</span> Uri(ViewNames.OrdersDetailView, UriKind.Relative));\n</pre>\r\n</div>\r\n<p>And change the <strong>WindowWrapper</strong>'s <strong>Show </strong>method to invoke the\r\n<strong>Show </strong>method of the window instead of <strong>ShowDialog </strong>\r\n(take into account that invoking the <strong>ShowDialog </strong>method of a window will make the\r\n<strong>Window </strong>modal for the <em><strong>entire application</strong></em>, not only the active view.)</p>\r\n<p>However, this creates a new problem: each time you navigate to the views, the <strong>\r\nRegionPopupBehavior </strong>will try to create the aforementioned regions again. This can be avoided by changing the\r\n<strong>RegisterNewPopupRegion </strong>method to add an <strong>if</strong> statement like this:</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>IRegionManager regionManager = ServiceLocator.Current.GetInstance&lt;IRegionManager&gt;();\n<span style=\"color:blue\">if</span> (regionManager != <span style=\"color:blue\">null</span>)\n{\n    <span style=\"color:blue\">if</span> (!regionManager.Regions.ContainsRegionWithName(regionName))\n    {\n        IRegion region = <span style=\"color:blue\">new</span> SingleActiveRegion();\n        DialogActivationBehavior behavior = <span style=\"color:blue\">new</span> WindowDialogActivationBehavior();\n\n        behavior.HostControl = owner;\n\n        region.Behaviors.Add(DialogActivationBehavior.BehaviorKey, behavior);\n        regionManager.Regions.Add(regionName, region);\n    }\n}\n</pre>\r\n</div>\r\n<p>After applying the aforementioned changes, you should be able to switch between the two views and invoke the two popups without problems.</p>\r\n<p>What is left is how to disable the associated view when the popup is show. How to do this will depend mostly of your personal preferences. As an example, you could declare a\r\n<strong>boolean </strong>property in the view model and bind the view's <strong>IsEnabled\r\n</strong>property to this property. This property could be set to <em><strong>false\r\n</strong></em>when the popup is shown and set back to <em><strong>true </strong></em>when the popup is closed. Also, you could implement a more complex presentation logic (e.g. adding a gray overlay to the view) on the view's side by using\r\n<a href=\"http://msdn.microsoft.com/en-us/library/system.windows.datatrigger.aspx\">\r\nDataTriggers</a>.</p>\r\n<p>As an alternative approach, if you wish to use <strong>InteractionRequests </strong>\r\ninstead of <strong>RegionPopups</strong>, I believe you could find the following blog post useful:</p>\r\n<ul>\r\n<li><a href=\"http://blogs.southworks.net/dcherubini/2012/05/24/popupwindowaction-using-custom-views-instead-of-windows-in-wpf-and-prism/\">PopupWindowAction: using custom views instead of windows in WPF and Prism</a>\r\n</li></ul>\r\n<p>I hope you find this useful,</p>\r\n<p>Damian Cherubini<br>\r\n<a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>\r\n",
    "PostedDate": "2012-05-24T11:36:09.8-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "840619",
    "ThreadId": "357015",
    "Html": "\r\n<p>Thank you so much again for your excellent support and prompt reply.&nbsp; Unfortunatly, I tried this solution before on my own and it did not accomplish what I am looking for.</p>\r\n<p>Once you make the changes you suggested, and run the application you will notice that you will end up with 3 windows, (the main application window, and the 2 modaless windows.&nbsp; I can switch between the 2 views as desired.&nbsp; The side effect I did\r\n not like, is that if I click to go back to one of the modules that has a child window open, the child window does not become (modal for the view), what I am trying to acheive is that when I switch, the child window will be brought to the front of the view\r\n becoming modal for that view.&nbsp;</p>\r\n<p>I tried to set the owner to be the view but that did not help, I hope my explanation makes sense. &nbsp; I think the issue is that you can not set the &quot;OWNER&quot; on the window, it is always null. &nbsp;</p>\r\n<p>Any direction you can provide will be greatly appreciated.</p>\r\n",
    "PostedDate": "2012-05-24T13:27:52.797-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "842245",
    "ThreadId": "357015",
    "Html": "<p>Hello,</p>\r\n<p>What I am trying to acheive in PRISM is similar to what Billy Hollis presented in <a href=\"http://dnrtv.com/dnrtvplayer/player.aspx?ShowNum=0115\">http://dnrtv.com/dnrtvplayer/player.aspx?ShowNum=0115</a>&nbsp;in the first 10 min of this video, to give you and idea of what I am trying to acheive.</p>\r\n<p>Thanks again, and looking forward to hearing from you again.</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2012-05-29T13:01:06.52-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "842795",
    "ThreadId": "357015",
    "Html": "\r\n<p>Hi BishMan,</p>\r\n<p>I have modified the repro-sample application you provided in this thread as an attempt to implement the functionality you described in this post. You can find the modified sample in my SkyDrive account:</p>\r\n<ul>\r\n<li><a href=\"https://skydrive.live.com/redir?resid=99307B6105BC060D%21120\">BishMan.Desktop v2</a>\r\n</li></ul>\r\n<p>Note that both the <strong>views</strong> and <strong>view models</strong> of the modules and the\r\n<strong>PopupBehavior</strong>'s logic (<strong>WindowWrapper </strong>class, <strong>\r\nRegionPopupBehavior </strong>class, etc) had been modified to achieve this.</p>\r\n<p>I hope this helps you as a starting point regarding your scenario.</p>\r\n<p>As a side note, I have watched the video you mentioned above and I believe that it's important to mention that, based on my understanding, the &quot;modal windows&quot; shown in the video do not seem to be\r\n<strong>Windows</strong>, but overlay UI views styled to look like <strong>Windows\r\n</strong>that are put over the original <strong>view </strong>and handle the required events to react like a\r\n<strong>Window</strong>. As far as I know, this kind of scenario is not supported by Prism as out of the box.</p>\r\n<p>In might opinion, this seems to be similar to the approach shown by <strong>Karl Shifflett</strong> in his<strong> In the Box - MVVM Training</strong> inside the\r\n<strong>Acme.MVVM.Scenarios</strong> sample:</p>\r\n<ul>\r\n<li><a href=\"http://visualstudiogallery.msdn.microsoft.com/3ab5f02f-0c54-453c-b437-8e8d57eb9942\">In the Box - MVVM Training</a>\r\n</li></ul>\r\n<p>Regards,</p>\r\n<p>Damian Cherubini<br>\r\n<a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>\r\n",
    "PostedDate": "2012-05-30T13:33:27.467-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1035043",
    "ThreadId": "357015",
    "Html": "Hi,\r<br />\n<br />\nHow can I pass parameters to popup view using above code??\r<br />\nplease help me..<br />\n",
    "PostedDate": "2013-04-24T03:06:41.637-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1035296",
    "ThreadId": "357015",
    "Html": "Hi,\r<br />\n<br />\nThere are several code snippets and sample solutions posted in this thread. Which one are you referring to?\r<br />\nAlso, there it could be useful to know a little more about your scenario so that we can have a better understanding about what you are trying to achieve.\r<br />\n<br />\nRegards,\r<br />\n<br />\nDamian Cherubini\r<br />\n<a href=\"http://blogs.southworks.net/dcherubini\" rel=\"nofollow\">http://blogs.southworks.net/dcherubini</a><br />\n",
    "PostedDate": "2013-04-24T13:28:21.767-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]