[
  {
    "Id": "706457",
    "ThreadId": "281607",
    "Html": "\r\n<p>So I have a 2-region WPF application (toolbar region and main region). &nbsp;The toolbar has 2 buttons that where each button loads a different view (Button1View and Button2View...original, I know) into the &quot;main region&quot;. &nbsp;Both viewmodels implement\r\n IConfirmNavigationRequest, but only Button1ViewModel raises an InteractionRequest. &nbsp;This is working well...when I click on button 1, Button1ViewLoads. &nbsp;Click on button 2, I get the confirmation request...both cases on the continuationCallback work\r\n (true and false). &nbsp;My question is, suppose I have Button1View loaded, and I click on Button 1 again. &nbsp;How do I prevent it from calling the ConfirmNavigationRequest again? &nbsp;Can I verify in my MainToolbarViewModel (where the navigation request\r\n begins) that the view I'm going to is the one already loaded? &nbsp;Here's some code:</p>\r\n<pre><strong>MainToolbarView :</strong></pre>\r\n<p>&nbsp;</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">GPETPrismAttempt1.MainToolbarView</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:#ff0000\">...</span>\r\n             <span style=\"color:red\">mc:Ignorable</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">d</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">d:DesignHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">72</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">d:DesignWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">267</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Background</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Transparent</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">72</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">72</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">72</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:blue\">/&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.Resources</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Style</span> <span style=\"color:red\">x:Key</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ToolbarButton</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">TargetType</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Button</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">BasedOn</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ToolbarButtonStyle}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Setter</span> <span style=\"color:red\">Property</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">HorizontalAlignment</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Value</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Setter</span> <span style=\"color:red\">Property</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">VerticalAlignment</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Value</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Setter</span> <span style=\"color:red\">Property</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Background</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Value</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Transparent</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Setter</span> <span style=\"color:red\">Property</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">BorderBrush</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Value</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Null}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Style</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.Resources</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Grid.Column</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Style</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ToolbarButton}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Command</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=NavigateToViewCommand}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">CommandParameter</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Button1View</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button.Content</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Image</span> <span style=\"color:red\">Source</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ItemsImage}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button.Content</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Grid.Column</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">2</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Style</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ToolbarButton}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Command</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=NavigateToViewCommand}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">CommandParameter</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Button2View</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button.Content</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Image</span> <span style=\"color:red\">Source</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ItemsImage}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button.Content</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Grid.Column</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Style</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ToolbarButton}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button.Content</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Image</span> <span style=\"color:red\">Source</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ItemsImage}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button.Content</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n<pre style=\"color:black\"><span style=\"color:blue\"><br></span></pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<pre><strong>MainToolbarViewModel :</strong></pre>\r\n<pre><span><div style=\"color:black; background-color:white\"><pre style=\"color:black\">    [Export(<span style=\"color:blue\">typeof</span>(MainToolbarViewModel))]\r\n    [PartCreationPolicy(CreationPolicy.Shared)]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> MainToolbarViewModel : NotificationObject\r\n    {\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">readonly</span> IRegionManager regionManager;\r\n\r\n        <span style=\"color:blue\">public</span> ICommand NavigateToViewCommand { <span style=\"color:blue\">get</span>; <span style=\"color:blue\">private</span> <span style=\"color:blue\">set</span>; }\r\n\r\n        [ImportingConstructor]\r\n        <span style=\"color:blue\">public</span> MainToolbarViewModel(IRegionManager regionManager)\r\n        {\r\n            <span style=\"color:blue\">if</span> (regionManager == <span style=\"color:blue\">null</span>)\r\n            {\r\n                <span style=\"color:blue\">throw</span> <span style=\"color:blue\">new</span> ArgumentException(<span style=\"color:#a31515\">&quot;regionManager&quot;</span>);\r\n            }\r\n\r\n            <span style=\"color:blue\">this</span>.regionManager = regionManager;\r\n\r\n            NavigateToViewCommand = <span style=\"color:blue\">new</span> DelegateCommand&lt;<span style=\"color:blue\">string</span>&gt;(NavigateToView);\r\n        }\r\n\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> NavigateToView(<span style=\"color:blue\">string</span> viewToDisplay)\r\n        {\r\n            <span style=\"color:blue\">this</span>.regionManager.RequestNavigate(RegionNames.MainRegion, <span style=\"color:blue\">new</span> Uri(<span style=\"color:blue\">string</span>.Format(<span style=\"color:#a31515\">&quot;{0}&quot;</span>, viewToDisplay), UriKind.Relative), NavigationCompleted);\r\n        }\r\n\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> NavigationCompleted(NavigationResult result)\r\n        {\r\n            Console.WriteLine(<span style=\"color:#a31515\">&quot;Navigated COMPLETED...result: {0}&quot;</span>, result.Result.ToString());\r\n        }\r\n    }</pre>\r\n<pre style=\"color:black\"><br></pre>\r\n<pre style=\"color:black\"><strong>Button1View.xaml :</strong> </pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">GPETPrismAttempt1.Button1View</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:#ff0000\">...</span>\r\n             <span style=\"color:red\">xmlns:interactionRequest</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:Zeller.Infrastructure.MEF.InteractionRequestImplementation;assembly=Zeller.Infrastructure.MEF</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">mc:Ignorable</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">d</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">d:DesignHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">300</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">d:DesignWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">300</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl.Resources</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataTemplate</span> <span style=\"color:red\">x:Key</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ConfirmNavigateAwayTemplate</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">TextBlock</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Text</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl.Resources</span><span style=\"color:blue\">&gt;</span>\r\n    \r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ei</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">Interaction.Triggers</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">prism</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">InteractionRequestTrigger</span> <span style=\"color:red\">SourceObject</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding ConfirmNavigateAwayRequest}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">interactionRequest</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">InteractionDialogAction</span> <span style=\"color:red\">ContentTemplate</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource ConfirmNavigateAwayTemplate}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">interactionRequest</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">InteractionDialogAction.Dialog</span><span style=\"color:blue\">&gt;</span>\r\n                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">interactionRequest</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ConfirmationLocalModalInteractionDialog</span><span style=\"color:blue\">/&gt;</span>\r\n                    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">interactionRequest</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">InteractionDialogAction.Dialog</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">interactionRequest</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">InteractionDialogAction</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">prism</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">InteractionRequestTrigger</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">ei</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">Interaction.Triggers</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">22</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>Show Child View<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl</span><span style=\"color:blue\">&gt;</span>\r\n\r\n</pre>\r\n</div>\r\n<strong>Button1ViewModel :</strong></pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre>[Export(<span style=\"color:blue\">typeof</span>(Button1ViewModel))]\r\n    [PartCreationPolicy(CreationPolicy.Shared)]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> Button1ViewModel : ZNavigationViewModelBase\r\n    {\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">readonly</span> InteractionRequest&lt;Confirmation&gt; confirmNavigateAwayRequest;\r\n\r\n        <span style=\"color:blue\">public</span> InteractionRequest&lt;Confirmation&gt; ConfirmNavigateAwayRequest\r\n        {\r\n            <span style=\"color:blue\">get</span> { <span style=\"color:blue\">return</span> <span style=\"color:blue\">this</span>.confirmNavigateAwayRequest; }\r\n        }\r\n\r\n        [ImportingConstructor]\r\n        <span style=\"color:blue\">public</span> Button1ViewModel()\r\n        {\r\n            <span style=\"color:blue\">this</span>.confirmNavigateAwayRequest = <span style=\"color:blue\">new</span> InteractionRequest&lt;Confirmation&gt;();\r\n        }\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">bool</span> KeepAlive\r\n        {\r\n            <span style=\"color:blue\">get</span> { <span style=\"color:blue\">return</span> <span style=\"color:blue\">true</span>; }\r\n        }\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">bool</span> IsNavigationTarget(NavigationContext navigationContext)\r\n        {\r\n            <span style=\"color:blue\">return</span> <span style=\"color:blue\">true</span>;\r\n        }\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">void</span> OnNavigatedFrom(NavigationContext navigationContext)\r\n        {\r\n            Console.WriteLine(<span style=\"color:#a31515\">&quot;Navigated FROM Button1ViewModel&quot;</span>);\r\n        }\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">void</span> OnNavigatedTo(NavigationContext navigationContext)\r\n        {\r\n        }\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">void</span> ConfirmNavigationRequest(NavigationContext navigationContext, Action&lt;<span style=\"color:blue\">bool</span>&gt; continuationCallback)\r\n        {\r\n            <span style=\"color:blue\">string</span> temp = navigationContext.Uri.ToString();\r\n            <span style=\"color:blue\">if</span> (<span style=\"color:green\">/*normally we'd check if we need to offer the confirmation (e.g. changes made?)*/</span> <span style=\"color:blue\">true</span>)\r\n                <span style=\"color:blue\">this</span>.confirmNavigateAwayRequest.Raise(<span style=\"color:blue\">new</span> Confirmation { Content = <span style=\"color:#a31515\">&quot;Going somewhere?&quot;</span>, Title = <span style=\"color:#a31515\">&quot;HEY!&quot;</span> }, \r\n                    c =&gt; \r\n                        {\r\n                            continuationCallback(c.Confirmed);\r\n                        });\r\n            <span style=\"color:blue\">else</span>\r\n                continuationCallback(<span style=\"color:blue\">true</span>);\r\n        }\r\n    }\r\n</pre>\r\n</div>\r\n<br></pre>\r\n</div>\r\n</span></pre>\r\n",
    "PostedDate": "2011-12-02T06:46:07.92-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "706612",
    "ThreadId": "281607",
    "Html": "<p>Hi,</p>\n<p>The details of how to implement this depends mostly of your personal preferences and requirements of your scenario.</p>\n<p>As a possible approach to achieve this, you could check if the <strong>DataContext </strong>of the view where you are going to navigate is the <strong>Button1ViewModel</strong> of the current view in the <strong>ConfirmNavigationRequest </strong>method and, if so, cancel the navigation request. As the <strong>NavigationContext </strong>that is received as a parameter does not contain the view where you are going to navigate, you could use the <strong>Service Locator</strong> obtain an instance of the view using the contract name of the view, which can be found in the <strong>Uri </strong>property of the <strong>NavigationContext </strong>parameter:</p>\n<div style=\"color: black; background-color: white;\">\n<pre><div style=\"color: black; background-color: white;\"><pre>        <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">override</span> <span style=\"color: blue;\">void</span> ConfirmNavigationRequest(NavigationContext navigationContext, Action&lt;<span style=\"color: blue;\">bool</span>&gt; continuationCallback)\n        {\n            <span style=\"color: blue;\">string</span> temp = navigationContext.Uri.ToString();\n\n            <span style=\"color: blue;\">object</span> targetView = ServiceLocator.Current.GetInstance&lt;<span style=\"color: blue;\">object</span>&gt;(temp);\n\n            FrameworkElement targetViewAsElement = targetView <span style=\"color: blue;\">as</span> FrameworkElement;\n\n            <span style=\"color: green;\">// If we are going to navigate to a view using this view model, cancel the navigation request</span>\n            <span style=\"color: blue;\">if</span> ((targetViewAsElement != <span style=\"color: blue;\">null</span>) &amp;&amp; (targetViewAsElement.DataContext == <span style=\"color: blue;\">this</span>))\n            {\n                continuationCallback(<span style=\"color: blue;\">false</span>);\n            }\n            <span style=\"color: blue;\">else</span>\n            {\n                <span style=\"color: blue;\">if</span> (<span style=\"color: green;\">/*normally we'd check if we need to offer the confirmation (e.g. changes made?)*/</span> <span style=\"color: blue;\">true</span>)\n                {\n                    <span style=\"color: blue;\">this</span>.confirmNavigateAwayRequest.Raise(<span style=\"color: blue;\">new</span> Confirmation { Content = <span style=\"color: #a31515;\">\"Going somewhere?\"</span>, Title = <span style=\"color: #a31515;\">\"HEY!\"</span> }, \n                        c =&gt; \n                            {\n                                continuationCallback(c.Confirmed);\n                            });\n                }\n                <span style=\"color: blue;\">else</span>\n                {\n                    continuationCallback(<span style=\"color: blue;\">true</span>);\n                }\n            }\n        }\n</pre>\n</div>\n</pre>\n</div>\n<p>However, take into account that this approach might cause an unexpected behavior in your application if, for example, different views use the same <strong>Button1ViewModel</strong> view model in the same region.</p>\n<p>I hope you find this useful,</p>\n<p>Damian Cherubini<br /> <a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>",
    "PostedDate": "2011-12-02T10:58:17.037-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "706621",
    "ThreadId": "281607",
    "Html": "<p>Thanks for your quick response. &nbsp;I think your suggestion will work fine for my scenario. &nbsp;Would you agree it's safe to say that multiple views shouldn't be using the same viewmodel instance anyway, so as long as I abide by that \"rule\" I'll be good with your solution?</p>",
    "PostedDate": "2011-12-02T11:26:18.897-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "707637",
    "ThreadId": "281607",
    "Html": "<p>Hi,</p>\r\n<p>Based on my understanding, as long as an instance of a view model is not used for multiple views, the aforementioned approach might be useful to achieve the requirements of your scenario.</p>\r\n<p>Regards,</p>\r\n<p>Damian Cherubini<br /> <a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>",
    "PostedDate": "2011-12-05T09:21:20.66-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]