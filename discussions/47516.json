[
  {
    "Id": "159096",
    "ThreadId": "47516",
    "Html": "Hi all,  <br>\r\n<br>\r\nGreat work on the framework!<br>\r\n<br>\r\nI am receiving a Null Reference Exception when calling the INotifyPropertyChanged Event.  The property is definately not null, and it occurs while using the RegionContext functionality.  I have a region wherre the RegionContext property is bound to SelectedMediaItem property on my model.  When a selection is made and the SelectedMediaItem property is changed, everything works as expected.  I receive the SelectedMediaItem object from RegionContext.GetObservableContext().  However, once I set the dataContext of another frameworkelement to the SelectedMediaItem reference I received from the GetObservableContext method--I get a NullReferenceException on the SelectedMediaItem INotifyPropertyChanged event.  Specifically:<br>\r\n<br>\r\nPARENT MODEL AND VIEW<br>\r\nAlbumViewModel and AlbumView<br>\r\nSelectedMediaItem is property of AlbumViewModel<br>\r\nIRegion (ContentControl) is bound to SelectedMediaItem, is located in AlbumView, and has a RegionContext bound to SelectedMediaItem<br>\r\n<br>\r\nREGION CHILD <br>\r\nMediaItemDetailsViewModel and MediaItemDetailsView<br>\r\nin codebehind of this view I have the following code:<br>\r\n<br>\r\n<span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">\r\n<p>public</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px\"> MediaItemDetailsView(</span><span style=\"font-size:13px;color:#2b91af\">IRegionManager</span><span style=\"font-size:13px\"> regionManager) CONSTRUCTOR\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">.regionManager = regionManager;\r\n<p>&nbsp;</p>\r\n<p>InitializeComponent();</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#2b91af\">RegionContext</span><span style=\"font-size:13px\">.GetObservableContext(</span><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">).PropertyChanged += </span><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">.RegionContextChanged;\r\n<p>&nbsp;</p>\r\n<p>}</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">void</span><span style=\"font-size:13px\"> RegionContextChanged(</span><span style=\"font-size:13px;color:#0000ff\">object</span><span style=\"font-size:13px\"> sender, System.ComponentModel.</span><span style=\"font-size:13px;color:#2b91af\">PropertyChangedEventArgs</span><span style=\"font-size:13px\"> e)    EVENT HANDLER\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p>\r\n<p><span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#0000ff\">var</span><span style=\"font-size:13px\"> v = </span><span style=\"font-size:13px;color:#2b91af\">RegionContext</span><span style=\"font-size:13px\">.GetObservableContext(</span><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">).Value</span><span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">.DataContext = v;\r\n<p>&nbsp;</p>\r\n<p>}</p>\r\n</span></p>\r\n<br>\r\nI have a NotifyingObject base class that implements INotifyPropertyChanged from which all of my viewmodels inherit.  This is where the error is thrown.  Considering the exception information offers no help in debugging I thought to ask if anyone has seen this error and knows what causes it.<br>\r\n<br>\r\n<span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">\r\n<p>protected</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#0000ff\">virtual</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#0000ff\">void</span><span style=\"font-size:13px\"> OnPropertyChanged(</span><span style=\"font-size:13px;color:#0000ff\">string</span><span style=\"font-size:13px\"> propertyName)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#2b91af\">PropertyChangedEventHandler</span><span style=\"font-size:13px\"> handler = PropertyChanged;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">if</span><span style=\"font-size:13px\"> (handler != </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">)\r\n<p>&nbsp;</p>\r\n<p>handler(</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">, </span><span style=\"font-size:13px;color:#0000ff\">new</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#2b91af\">PropertyChangedEventArgs</span><span style=\"font-size:13px\">(propertyName)); ERROR HAPPENS HERE\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>}<br>\r\n<br>\r\nThank you! --Lawrence King</p>\r\n</span></p>\r\n",
    "PostedDate": "2009-02-18T11:04:00.53-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]