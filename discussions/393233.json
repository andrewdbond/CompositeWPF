[
  {
    "Id": "904690",
    "ThreadId": "393233",
    "Html": "\r\n<p>Hello,&nbsp;</p>\r\n<p>I have a user control (common XMAL code with some binding syntax in it), I want the location where I place the control to be used for a datasource/datacontext.&nbsp;</p>\r\n<p>I defined my xaml in infrastructure such as the following:&nbsp;</p>\r\n<div style=\"background-color:white; color:black\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Popup</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">openViewsPopup</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">IsOpen</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding ElementName=openViewsToggle, Path=IsChecked}</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">StaysOpen</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">Cursor</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Hand</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">MaxHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">350</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">ForceCursor</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">True</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">PlacementTarget</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding ElementName=openViewsToggle}</span><span style=\"color:black\">&quot;</span>\r\n               <span style=\"color:red\">Placement</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Top</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ListBox</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding OpenViews}</span><span style=\"color:black\">&quot;</span>\r\n                 <span style=\"color:red\">SelectedValuePath</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">UriString</span><span style=\"color:black\">&quot;</span>\r\n                 <span style=\"color:red\">SelectionMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Single</span><span style=\"color:black\">&quot;</span>\r\n                 <span style=\"color:red\">MinWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MinHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span>\r\n                 <span style=\"color:red\">MouseDoubleClick</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding OpenViewCommand}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Popup</span><span style=\"color:blue\">&gt;</span>\r\n\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>&nbsp;I am adding this to another control such as the following:&nbsp;</p>\r\n<div style=\"background-color:white; color:black\">\r\n<pre> <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">common</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">OpenViewsControl</span> <span style=\"color:blue\">/&gt;</span>\r\n</pre>\r\n</div>\r\n<p>the viewmodel for the view in the module where I am placing OpenViewsControl, has all the properties needed to populate the user control, but when I am running this I am running into a binding error.&nbsp;</p>\r\n<p>I am setting the ViewModel in Code behind as follows:&nbsp;</p>\r\n<div style=\"background-color:white; color:black\">\r\n<pre>[Dependency]\r\n\t\t<span style=\"color:blue\">public</span> MenuViewModel ViewModel\r\n\t\t{\r\n\t\t\t<span style=\"color:blue\">get</span> { <span style=\"color:blue\">return</span> DataContext <span style=\"color:blue\">as</span> MenuViewModel; }\r\n\t\t\t<span style=\"color:blue\">set</span> { DataContext = value; }\r\n\t\t}\r\n</pre>\r\n</div>\r\n<p>But for whatever reason is not working.&nbsp; Can anyone guide me on what I am doing wrong here?&nbsp; I need to use the OpenViewsControl in many places.&nbsp;</p>\r\n<p>Thanks in advance for your assistance.</p>\r\n<div id=\"_mcePaste\" style=\"width:1px; height:1px; overflow:hidden; top:178px; left:-10000px\">\r\n&#65279;</div>\r\n",
    "PostedDate": "2012-08-27T10:36:24.673-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "904728",
    "ThreadId": "393233",
    "Html": "<p>Hi,</p>\r\n<p>Based on the information you provided so far, it doesn't seems to be anything wrong about how you are setting the view model in the view. Therefore, the <strong>OpensViewsControl </strong>should inherit the <strong>DataContext </strong>of the view without problems.</p>\r\n<p>However, take into account that for the properties of a class to be populated automatically, you will need to resolve that class through the container. Hence, if you are not resolving the view through the container, its <strong>ViewModel </strong>property is not being set by it and the <strong>OpensViewControl </strong>will not have a <strong>DataContext</strong> to inherit.</p>\r\n<p>Also, if you are adding the <strong>OpensViewControl </strong>inside a <strong>DataTemplate </strong>in the view, the control wouldn't be able to reach the view's <strong>DataContext</strong>. This is because, by design, a <strong>DataTemplate </strong>has its own <strong>DataContext</strong>, which is the element to which the <strong>DataTemplate </strong>is applied to. If the <strong>OpensViewControl </strong>is added in a <strong>DataTemplate </strong>inside the view, it will inherit the <strong>DataTemplate</strong>'s <strong>DataContext </strong>instead of the view's <strong>DataContext</strong>.</p>\r\n<p>Finally, this problem could also be caused by how you are setting the source object for each binding. For example, in the code snippet provided above it can be seen a couple of bindings where its <strong>ElementName </strong>property is set to \"<strong><em>openViewsToggle</em></strong>.\" This means that this binding will not use the <strong>DataContext </strong>as a source; it will look in the visual tree for a element named \"<strong><em>openViewsToggle</em></strong>\"and use it as the source instead. So, if no element with that name is found, the binding will fail. You can read more about this in the following article of MSDN:</p>\r\n<ul>\r\n<li><a href=\"http://msdn.microsoft.com/en-us/library/system.windows.data.binding.elementname.aspx\">Binding.ElementName Property</a></li>\r\n</ul>\r\n<p>As I mentioned before, with the information provided so far we are not able to find the cause behind this problem. Hence, it would be helpful if you could provide us with more information regarding this problem, like for example the binding error, how the view is added / constructed, etc, so that we can help you further with this.</p>\r\n<p>Regards,</p>\r\n<p>Damian Cherubini<br /> <a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>\r\n<div id=\"_mcePaste\" class=\"mcePaste\" style=\"position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow: hidden;\">\r\n<pre><span style=\"color: blue;\">openViewsToggle</span></pre>\r\n</div>",
    "PostedDate": "2012-08-27T12:22:30.713-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]