[
  {
    "Id": "198252",
    "ThreadId": "58577",
    "Html": "<p>Hi,</p>\r\n<p>In my application I am loading the different Module On-Demand by clicking on a button which appear when the user identify himself in the AuthenticateModule.</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void MemberModuleButton_Click(object sender, RoutedEventArgs e)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bootstrapper.LoadModule(&quot;memberModule&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private void ContratModuleButton_Click(object sender, RoutedEventArgs e)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bootstrapper.LoadModule(&quot;contratModule&quot;);</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>All my module are stored in the ModuleCatalog in my Bootstrapper and I created some region in the Shell :</p>\r\n<p>&lt;ItemsControl&nbsp; cal:RegionManager.RegionName=&quot;{x:Static infrastructure:RegionNames.ContratRegion}&quot; /&gt;</p>\r\n<p>&nbsp;</p>\r\n<p>Now, when the user is logged and clicked to the &quot;ContractModuleButton&quot;, I registered the View with the region :</p>\r\n<p>&nbsp;regionManager.RegisterViewWithRegion(RegionNames.ContratRegion,typeof(ContratsView));</p>\r\n<p>&nbsp;</p>\r\n<p>Everything work fine but when the user logged off, I want to deactivate the view in order to return to the basic shell.</p>\r\n<p>I tried to use this method without success and I had a error message : &quot;Deactivation is not possible in this type of region. &quot;</p>\r\n<p>var view = container.Resolve&lt;ContratsView&gt;();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n<p>region.Add(view);<br>region.Deactivate(view);</p>\r\n<p>&nbsp;</p>\r\n<p>Thanks for your help !</p>\r\n<p>Best regards</p>\r\n<p>&nbsp;</p>\r\n<p>Vlado</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-06-05T07:46:15.663-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "198404",
    "ThreadId": "58577",
    "Html": "<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">Hi Vlado,</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-family:Calibri;font-size:small\">&nbsp;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">This exception is most likely being thrown because you are using an <strong>ItemsControl</strong> as your region. This kind of control is mapped to an <strong>AllActiveRegion,</strong> which can hold multiple views and all of them are active at the same time. Therefore, there is no way to activate a view in an <strong>AllActiveRegion.</strong> There are two options to avoid the exception:</span></span></span></p>\r\n<p style=\"text-indent:-18pt;margin:0cm 0cm 0pt 36pt\"><span style=\"\" lang=EN-US><span style=\"\"><span style=\"font-family:Calibri;font-size:small\">1.</span><span style=\"font:7pt &quot;Times New Roman&quot;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">If you want to stop showing that view and still use the AllActiveRegion you should remove the view from the region or make it not visible.</span></span></span></p>\r\n<p style=\"text-indent:-18pt;margin:0cm 0cm 0pt 36pt\"><span style=\"\" lang=EN-US><span style=\"\"><span style=\"font-family:Calibri;font-size:small\">2.</span><span style=\"font:7pt &quot;Times New Roman&quot;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">If you consider a <strong>ContentControl </strong>would suit your scenario, you will be able to deactivate views, since only one view can be active in a region adapted in a ContentControl (<strong>SingleActiveRegion</strong>).</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-family:Calibri;font-size:small\">&nbsp;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">Please let me know if this helps.</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\"><span style=\"\" lang=EN-US><span style=\"font-family:Calibri;font-size:small\">&nbsp;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">Damian Schenkelman</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><a href=\"http://blogs.southworks.net/dschenkelman\"><span style=\"font-family:Calibri;font-size:small\">http://blogs.southworks.net/dschenkelman</span></a></span></p>",
    "PostedDate": "2009-06-05T13:38:54.557-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "199534",
    "ThreadId": "58577",
    "Html": "<p>Another time, thanks for your help.</p>\r\n<p>It's work well now with just a simple method :</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static void UnloadModule() //deactivate View<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach (var region in regionManager.Regions)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (region.Views.Count() &gt; 0 &amp;&amp; region.Name.CompareTo(&quot;AuthenticateRegion&quot;)!=0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; region.Deactivate(region.Views.First());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>and exactly the opposite in order to reactivate the view when another user is logged.</p>\r\n<p>Thanks.</p>\r\n<p>&nbsp;</p>\r\n<p>Vlado</p>",
    "PostedDate": "2009-06-09T07:44:26.78-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]