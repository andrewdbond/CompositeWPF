[
  {
    "Id": "180237",
    "ThreadId": "53546",
    "Html": "Hello,<div><br></div><div>i'm working on a Composite Silverlight application and i've reached a point where i need some advice on the architecture i'm designing.</div><div><br></div><div>Here's the simplified scenario:</div><div><br></div><div>The SL application loads two modules A and B. </div><div>Each module has a view of its own, view A and view B, respectively.</div><div>Each view has a presentation model with business data and a controller of its own.</div><div><br></div><div>I want to inject both views in the same region, but this views will be visible interchangeably.</div><div><br></div><div>The application loads with View A active and visible. </div><div>It has a button. If i press it, View A disappears, and gives place to View B.</div><div><br></div><div>View B has a button, if i click it, View B closes and View A appears. </div><div><br></div><div>I've implemented this using the controller command delegates to publish an event subscribed by the other controller.</div><div>When handling the event, the controller removes the view from the region.</div><div><br></div><div>Questions:</div><div><br></div><div>* Should i use a controller, that controls both controllers ? I mean, a higher lever controller. The actual implementation is becoming kind of limited.. However i don't want to break the pattern.</div><div>* If want to implement an animation, where both views are partially seen at some point, like one slidding one over the other, should i create a composite view with these views, instead of doing that on the shell ?</div><div><br></div><div>Thank you,</div><div>F</div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>",
    "PostedDate": "2009-04-16T11:15:57.93-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "180669",
    "ThreadId": "53546",
    "Html": "<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\">Hi F,</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"color:#1f497d;font-family:calibri\">        </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\">In my personal opinion, and without knowing the complexity and specifics of your application, I would not use a higher controller. I will try to explain what I have in mind. These steps are not the only things that could be done, but just the main ones:</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt\"><span><span style=\"font-family:calibri\">1.</span><span style=\"font:7pt 'times new roman'\">       </span></span><span style=\"font-family:calibri\">ViewA Button (ButtonA) is clicked.</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt\"><span><span style=\"font-family:calibri\">2.</span><span style=\"font:7pt 'times new roman'\">       </span></span><span style=\"font-family:calibri\">ControllerA finds out ButtonA has been clicked. This can be done in different ways depending the references between them. For example: ViewA can call a controller method, ControllerA can handle an event raised by ViewA when ButtonA is clicked, or using EventAggregator (less recommended because it is too decoupled).</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt\"><span><span style=\"font-family:calibri\">3.</span><span style=\"font:7pt 'times new roman'\">       </span></span><span style=\"font-family:calibri\">ControllerA uses EventAggregator to notify ControllerB that the button has been clicked.</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt\"><span><span style=\"font-family:calibri\">4.</span><span style=\"font:7pt 'times new roman'\">       </span></span><span style=\"font-family:calibri\">ControllerB shows ViewB in the Region. Since you appear to be using only one view per Region, you are probably using a <b>SingleActiveRegion</b> from a <b>ContentControl</b>. If you are, you do not need to remove ViewA from the region, just add ViewB.</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\">The steps can be repeated for ViewB.</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"color:#1f497d;font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\">                Are there any  benefits you want to take advantage of by having another controller?</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span><span style=\"font-family:calibri\">As for the animation it could depend on the specific animation you wanted to perform. A good example of an animation when switching views can be seen in the </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458919.aspx\"><span style=\"color:#0000ff;font-family:calibri\">Stock Trader Reference Implementation</span></a><span style=\"font-family:calibri\">. This is executed with a <b>TabControl</b>, but you might be able to get some ideas out of it.</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\">Here are some links with more information about the topics I mentioned above:</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 52.2pt\"><span style=\"font-family:symbol\">·<span style=\"font:7pt 'times new roman'\">         </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458878.aspx\"><span style=\"color:#0000ff;font-family:calibri\">Communication</span></a>\r\n<p style=\"margin:0cm 0cm 0pt 52.2pt\"><span style=\"font-family:symbol\">·<span style=\"font:7pt 'times new roman'\">         </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458944.aspx\"><span style=\"color:#0000ff;font-family:calibri\">UI Composition</span></a>\r\n<p style=\"margin:0cm 0cm 0pt 52.2pt\"><span style=\"font-family:symbol\">·<span style=\"font:7pt 'times new roman'\">         </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458942.aspx\"><span style=\"color:#0000ff;font-family:calibri\">How to: Create and Publish Events</span></a>\r\n<p style=\"margin:0cm 0cm 0pt 52.2pt\"><span style=\"font-family:symbol\">·<span style=\"font:7pt 'times new roman'\">         </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458904.aspx\"><span style=\"color:#0000ff;font-family:calibri\">How to: Subscribe and Unsubscribe to Events</span></a>\r\n<p style=\"margin:0cm 0cm 0pt 52.2pt\"><span style=\"font-family:symbol\">·<span style=\"font:7pt 'times new roman'\">         </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458899.aspx\"><span style=\"color:#0000ff;font-family:calibri\">How to: Show a View in a Region Using View Injection UI Composition</span></a>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\">Please let me know if this helps.</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\"><span style=\"font-family:calibri\">Damian Schenkelman</span></p>\r\n<span style=\"font-size:11pt;font-family:'calibri','sans-serif'\"><a href=\"http://blogs.southworks.net/dschenkelman\">http://blogs.southworks.net/dschenkelman</a></span></span></p>\r\n</span></p>\r\n</span></p>\r\n</span></p>\r\n</span></p>\r\n",
    "PostedDate": "2009-04-17T12:53:42.033-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "180964",
    "ThreadId": "53546",
    "Html": "Hello Damian, thanks for the reply.<br>\r\n<br>\r\nMy doubt is related with implementing the supervising controller pattern in a complex scenario.<br>\r\nI'm not sure, on the direction to take in implementing a view hierarchy, considering the structure and the interaction between top level and low level controllers/presenters.<br>\r\n<br>\r\nShould top level controllers direct reference low level controllers ? Should top level controllers be listening the events propagated by low level controllers. What would be the implementation with the right level of decouple ?<br>\r\n&nbsp;<br>\r\nThe views i described are oversimplified. Both view A and B are composite views, with a typical triad design (M-V-P).<br>\r\nI want to integrate both views in the same region of the shell, where i can swap them using an animation.<br>\r\n<br>\r\nView B, for instance, is a composite view made of 4 smaller views, each one having a presenter and model.<br>\r\nThe top level animation is triggered by a control that exists in one of these lower level views, like a menu item or a button in a toolbar view.<br>\r\n<br>\r\nYour suggestion makes very sense, and the actual implementation is very close to it. <br>\r\nOne of the differences is the fact that i use <span style=\"font-family:calibri\">EventAggregator</span> on every events, however you have said &quot;<span style=\"font-family:calibri\">(less recommended because it is too decoupled)&quot;. Why is this so ?</span><br>\r\n<br>\r\nRegarding the animation I'm familiar with RI implementation using the tab control, but i was thinking in other type of animation, maybe using SL3.<br>\r\nAnyway, i believe the use of an animation will make me create another composite view that will contain View A and B. Wouldn't it be advisable that in this situation, to create a top level controller that interacts with Controller's A e B?<br>\r\n<br>\r\nRegards,<br>\r\nF<br>\r\n",
    "PostedDate": "2009-04-19T05:54:36.593-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]