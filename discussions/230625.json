[
  {
    "Id": "506206",
    "ThreadId": "230625",
    "Html": "<p>Hello,</p>\r\n<p>I'm writing an application using DevExpress controls and Prism. I have a BarManager in the shell with the main menu bar and marked this bar as a region.</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">dxb</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">BarManager</span> <span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">barManager</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">dxb</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">BarManager.Bars</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">dxb</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">Bar</span> <span style=\"color:red\">Caption</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Main</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">IsMainMenu</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">True</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">UseWholeRow</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">True</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">cal:RegionManager.RegionName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Static infrastructure:RegionNames.MainMenuBar}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">dxb</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">Bar</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">dxb</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">BarManager.Bars</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">dxb</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">BarManager</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n</p>\r\n<p>If I run this without a custom region adapter, I get an exception &quot;No region adapter for region MainMenuBar found&quot;. So I created a custom region and register the region mapping.</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre>    <span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> RegionAdapterMappings ConfigureRegionAdapterMappings()\r\n    {\r\n        RegionAdapterMappings mappings = <span style=\"color:blue\">base</span>.ConfigureRegionAdapterMappings();\r\n        mappings.RegisterMapping(<span style=\"color:blue\">typeof</span>(Bar), <span style=\"color:blue\">this</span>.Container.Resolve&lt;MenuBarAdapter&gt;());\r\n\r\n        <span style=\"color:blue\">return</span> mappings;\r\n    }\r\n</pre>\r\n</div>\r\n</p>\r\n<p>Fine, it runs without exception, but the region does not get registered. So what is wrong?</p>\r\n<p>Thanks for help, Enyra</p>",
    "PostedDate": "2010-10-12T12:20:38.747-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "506909",
    "ThreadId": "230625",
    "Html": "<p>Hi,</p>\r\n<p>Based on my understanding, you created your custom region adapter, but views are not displayed in your region. I am not aware how the DevExpress controls work. So if you continue experiencing this problem, could you please share the region adapter implementation or any other relevant information?</p>\r\n<p>Fernando Antivero <br><a href=\"http://blogs.southworks.net/fantivero\">http://blogs.southworks.net/fantivero</a></p>",
    "PostedDate": "2010-10-13T15:01:31.177-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "508072",
    "ThreadId": "230625",
    "Html": "<p>Hello fantivero</p>\r\n<p>No not only the view is not display, but the region is not in the regions list of the region manager at all. I'm curious, because the &quot;CreateRegion&quot; and &quot;Adapt&quot; methods of the adapter get called. Here is my adapter.&nbsp;</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre>\t<span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> BarRegionAdapter : RegionAdapterBase&lt;Bar&gt;\r\n\t{\r\n\t\t<span style=\"color:blue\">public</span> BarRegionAdapter(IRegionBehaviorFactory behaviorFactory)\r\n\t\t\t: <span style=\"color:blue\">base</span>(behaviorFactory)\r\n\t\t{\r\n\t\t}\r\n\r\n\t\t<span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">void</span> Adapt(IRegion region, Bar regionTarget)\r\n\t\t{\r\n\t\t\t<span style=\"color:blue\">if</span> (region == <span style=\"color:blue\">null</span>)\r\n\t\t\t{\r\n\t\t\t\t<span style=\"color:blue\">throw</span> <span style=\"color:blue\">new</span> ArgumentNullException(<span style=\"color:#a31515\">&quot;region&quot;</span>);\r\n\t\t\t}\r\n\r\n\t\t\t<span style=\"color:blue\">if</span> (regionTarget == <span style=\"color:blue\">null</span>)\r\n\t\t\t{\r\n\t\t\t\t<span style=\"color:blue\">throw</span> <span style=\"color:blue\">new</span> ArgumentNullException(<span style=\"color:#a31515\">&quot;regionTarget&quot;</span>);\r\n\t\t\t}\r\n\r\n\t\t\tregion.Views.CollectionChanged += (sender, e) =&gt;\r\n\t\t\t{\r\n\t\t\t\t<span style=\"color:blue\">if</span> (e.Action == NotifyCollectionChangedAction.Add)\r\n\t\t\t\t{\r\n\t\t\t\t\tIEnumerable&lt;BarItem&gt; newBars = e.NewItems.OfType&lt;BarItem&gt;();\r\n\t\t\t\t\t<span style=\"color:blue\">foreach</span> (BarItem barItem <span style=\"color:blue\">in</span> newBars)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tregionTarget.Manager.Items.Add(barItem);\r\n\t\t\t\t\t\tregionTarget.ItemLinks.Add(barItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t<span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> IRegion CreateRegion()\r\n\t\t{\r\n\t\t\t<span style=\"color:blue\">return</span> <span style=\"color:blue\">new</span> AllActiveRegion();\r\n\t\t}\r\n\t}\r\n</pre>\r\n</div>\r\n</p>\r\n<p>If a declare the BarManager as a region it works and I can add menus. Perhaps it has something to do with the xaml tree structure of the BarManager?</p>\r\n<p>Thanks for help,</p>\r\n<p>Enyra</p>",
    "PostedDate": "2010-10-15T15:49:21.27-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "511142",
    "ThreadId": "230625",
    "Html": "\r\n<p>Hi Enyra,</p>\r\n<p>First of all, I realized that your <strong>Adapt </strong>method is different to the\r\n<strong>ItemsControlRegionAdapter </strong>class. Have you found that this implementation is not appropriate in your scenario?<br>\r\n<br>\r\nOn the other hand, it is strange that you could not found the region in the Region Manager. But as you mentioned, it might be related with this BarManager control. So i think that you can find interesting the following forum thread:\r\n<a href=\"http://compositewpf.codeplex.com/Thread/View.aspx?ThreadId=222709\">Region in adorner (Fluent Ribbon Backstage)</a><br>\r\n<br>\r\nIf you has not solved this, could you please share a repro sample?</p>\r\n<p>Fernando Antivero <br>\r\n<a href=\"http://blogs.southworks.net/fantivero\">http://blogs.southworks.net/fantivero</a></p>\r\n<p>&nbsp;</p>\r\n<p><span><br>\r\n</span></p>\r\n",
    "PostedDate": "2010-10-22T08:26:59.17-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]