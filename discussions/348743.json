[
  {
    "Id": "810866",
    "ThreadId": "348743",
    "Html": "\r\n<p>Hi All</p>\r\n<p>I'm having a problem in one of my apps navigating to the correct view,&nbsp;I've set a breakpoint on IsNavigationTarget and its not even being hit.&nbsp; I've attached a repro and would appreciate if someone could have a look see if you could find where\r\n I'm going wrong.</p>\r\n<p>Basically I have a shell that will load buttons related to modules in the app.&nbsp; When the user clicks a button the main view of that module should be loaded into the 'MainRegion'.&nbsp; The repro has 2 modules 'ModuleA' and 'ModuleZ'.&nbsp; When the\r\n button is clicked the the view is loaded but the breakpoint is not hit so INavigationAware interface is not recoginized?</p>\r\n<p>Repro can be found here <a href=\"https://skydrive.live.com/redir.aspx?cid=3cd5bdc4e5b0165a&resid=3CD5BDC4E5B0165A!138&parid=3CD5BDC4E5B0165A!128\">\r\nhttps://skydrive.live.com/redir.aspx?cid=3cd5bdc4e5b0165a&amp;resid=3CD5BDC4E5B0165A!138&amp;parid=3CD5BDC4E5B0165A!128</a></p>\r\n<p>Thanks</p>\r\n<p>Paul</p>\r\n",
    "PostedDate": "2012-03-15T07:37:46.117-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "810981",
    "ThreadId": "348743",
    "Html": "<p>Hi Paul,</p>\r\n<p>We analyzed your repro-sample application and found that you are setting the view models as the <strong>DataContext </strong>of the <strong>Grids </strong>inside the views.</p>\r\n<p>For a view model to participate in the navigation process of its view, it must be set as the <strong>DataContext </strong>of the view itself (in this case, the <strong>DataContext</strong> of the <strong>UserControls</strong>) rather that as the <strong>DataContext </strong>of its child elements.</p>\r\n<p>In this case, as the <strong>DataContext </strong>property of the view does not contain its view model, Prism cannot find it and the <strong>IsNavigationTarget </strong>method is never invoked.</p>\r\n<p>For example, you can set the view model of your views doing something like this:</p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre><span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">UserControl</span> <span style=\"color: red;\">x:Class</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleZ.Views.ViewZ</span><span style=\"color: black;\">\"</span>\r\n    <span style=\"color: red;\">xmlns:vm</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">clr-namespace:ModuleZ.ViewModels</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n    \r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">UserControl.DataContext</span><span style=\"color: blue;\">&gt;</span>\r\n        <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">vm</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ViewZViewModel</span><span style=\"color: blue;\">/&gt;</span>\r\n    <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">UserControl.DataContext</span><span style=\"color: blue;\">&gt;</span>\r\n    \r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Grid</span> <span style=\"color: red;\">x:Name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">LayoutRoot</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">Background</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">White</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">HorizontalAlignment</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">Center</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">VerticalAlignment</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">Center</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n        [ . . . ]\r\n    <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">Grid</span><span style=\"color: blue;\">&gt;</span>\r\n<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">UserControl</span><span style=\"color: blue;\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>You can check that, after applying the aforementioned changes, the <strong>IsNavigationTarget </strong>is now being properly invoked (remember to clean your solution beforehand.)</p>\r\n<p>You can find more information about this in the following sections of the Prism documentation:</p>\r\n<ul>\r\n<li><a href=\"http://msdn.microsoft.com/en-us/library/gg405484%28v=pandp.40%29.aspx#sec17\">Chapter 5: Implementing the MVVM Pattern - Construction and Wire-Up</a></li>\r\n<li><a href=\"http://msdn.microsoft.com/en-us/library/gg430861%28PandP.40%29.aspx\">Chapter 8: Navigation</a></li>\r\n</ul>\r\n<p>I hope you find this useful,</p>\r\n<p>Damian Cherubini<br /> <a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>",
    "PostedDate": "2012-03-15T10:29:30.907-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "813259",
    "ThreadId": "348743",
    "Html": "<p>Thanks Damian for the detailed answer, overlooked the datacontext on the usercontrol.&nbsp; All works fine now.</p>\r\n<p>Paul</p>",
    "PostedDate": "2012-03-20T15:30:02.977-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]