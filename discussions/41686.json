[
  {
    "Id": "138380",
    "ThreadId": "41686",
    "Html": "<p>We are creating a set of implementation pattern examples fora future WPF application using Prism and many of the patterns</p><p>Conceptually, we will have a single shell rolled out to theusers.<span>  </span>As new functionality is added tothe application, we will roll out new modules. </p><p>WPF is quite new to our developers.<span>   </span>I have been working on a pattern in areference implementation that uses MVP but I am running into some difficultieswhen I need to have two different views present in the same module.</p><p>I have created 3 views instead of 2:<span>  </span>a “HOST” view that has two content areas, aList View and a Details View.<span>  </span>The moduleinitialization registers all of the views and their presenters and the sharedservice as well as a controller.<span>  </span>TheHOST view and presenter are “stupid”; their only purpose is to host the detailsand list views.<span>  </span>The controller handlescommunication between the list and detail presenters/views.</p><p>Here is the module’s structure:</p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamTracker.Modules.TeamMember&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span>Controllers&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span><span>       </span>ITeamMemberController.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:0.5in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberController.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span>Models&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span><span>       </span>ITeamMemberDetailsCompositeModel.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:0.5in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberDetailsCompositeModel.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span>Services&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span><span>       </span>ITeamMemberService.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span><span>       </span>TeamMemberService.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span>Views&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>              </span>TeamMemberDetails&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">ITeamMemberDetailsPresenter.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">ITeamMemberDetailsView.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberDetailsPresenter.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberDetailsView.XAML/ xaml.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:0.5in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberHost&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">ITeamMemberHostPresenter.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">ITeamMemberHostView.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberHostPresenter.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberHostView.XAML/ xaml.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:0.5in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberList&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">ITeamMemberListPresenter.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">ITeamMemberListView.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberListPresenter.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">TeamMemberLostView.XAML/ xaml.cs&lt;o:p&gt;&lt;/o:p&gt;</span></p><p>&lt;o:p&gt; &lt;/o:p&gt;</p><p>My question is about how declare and use regions within the HostView.XAMLand the use of a scopedRegionManager.</p><p>Initially, I declared two content areas</p><p><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">&lt;ContentControl x:Name=&quot;TeamMemberListRegion&quot;Grid.Column=&quot;0&quot; VerticalAlignment=&quot;Top&quot;/&gt;-&lt;ContentControlx:Name=&quot;TeamMemberDetailsRegion&quot; Grid.Column=&quot;1&quot; /&gt;&lt;o:p&gt;&lt;/o:p&gt;</span></p><p>This is the HOSTPresenter constructor:</p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>       </span>public TeamMemberHostPresenter(&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>                    </span>ITeamMemberControllerteamController,&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>                    </span>ITeamMemberHostView view,&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>                    </span>ITeamMemberListPresenterlistPresenter,&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>                    </span>ITeamMemberDetailsPresenterdetailsPresenter)&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">&lt;o:p&gt; &lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>        </span>{&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">&lt;o:p&gt; &lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>            </span>_view = view;&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>            </span>_listPresenter = listPresenter;&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>            </span>_detailsPresenter =detailsPresenter;&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>            </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>            </span>_teamController = teamController;&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>           </span>_view.LoadTeamListView(_listPresenter.View);&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\"><span>           </span>_view.LoadTeamDetailsView(_detailsPresenter.View);<span>             </span>&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">         </span>}</p><p style=\"margin-bottom:0.0001pt\">&lt;o:p&gt; &lt;/o:p&gt;</p><p style=\"margin-bottom:0.0001pt\">&lt;o:p&gt; &lt;/o:p&gt;</p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">_view.LoadTeamListViewhas one job:<span>   </span>TeamMemberListRegion.Content= teamMemberListView&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">_view.LoadTeamDetailshas one job:<span>    </span>TeamMemberDetailsRegion.Content= teamMemberDetailsView&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">&lt;o:p&gt; &lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span>This worked</span>…….at first…..</p><p style=\"margin-bottom:0.0001pt\"><span>&lt;o:p&gt; &lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\"><span style=\"font-size:8pt;line-height:115%;font-family:'courier new'\">&lt;o:p&gt; &lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\">As I iteratethough adding more functionality such as the use of a composite model (multiplebusiness entities) for the teamMemberDetailsView and validation architectureusing Martin Bennedik’s </p><p style=\"margin-bottom:0.0001pt\"><span>WPF integrationfor VAB</span>, I am starting to see failures where the teamMemberDetailsViewdoes not properly update to show new data.</p><p style=\"margin-bottom:0.0001pt\">&lt;o:p&gt; &lt;/o:p&gt;</p><p style=\"margin-bottom:0.0001pt\">I amwondering if this has to do with the use of the ContentControl instead ofItemsControl.</p><p style=\"margin-bottom:0.0001pt\"><span> </span></p><p style=\"margin-bottom:0.0001pt\">Is itpossible to declare regions using ItemsControl in my HOSTView.XAML?<span>  </span>I was unsure if it is possible to have nestedregion managers? I was looking at using scoped region managers (from thePrism.chm):</p><p style=\"margin-bottom:0.0001pt;line-height:normal\"><em><span style=\"font-size:8pt;font-family:'courier new'\">IRegiondetailsRegion = this.regionManager.Regions[&quot;DetailsRegion&quot;];&lt;o:p&gt;&lt;/o:p&gt;</span></em></p><p style=\"margin-bottom:0.0001pt;line-height:normal\"><em><span style=\"font-size:8pt;font-family:'courier new'\">Viewview = new View();&lt;o:p&gt;&lt;/o:p&gt;</span></em></p><p style=\"margin-bottom:0.0001pt;line-height:normal\"><em><span style=\"font-size:8pt;font-family:'courier new'\">boolcreateRegionManagerScope = true;&lt;o:p&gt;&lt;/o:p&gt;</span></em></p><p style=\"margin-bottom:0.0001pt;line-height:normal\"><em><span style=\"font-size:8pt;font-family:'courier new'\">IRegionManagerdetailsRegionManager = detailsRegion.Add(view, null,createRegionManagerScope);&lt;o:p&gt;&lt;/o:p&gt;</span></em></p><p style=\"margin-bottom:0.0001pt\">&lt;o:p&gt;  &lt;/o:p&gt;</p><p style=\"margin-bottom:0.0001pt\">Assuming theregions in the HOST.XAML are called TeamMemberDetailsRegion and TeamMemberListRegion, how do I create the scoped region manager for use by the HOSTPresenter?  The SHELL.XAML region is where the TeamMember Module is loaded is called  &quot;TeamListRegion&quot;.<span style=\"font-size:7.5pt;line-height:115%;font-family:'segoe ui', sans-serif;color:black\"><br><br>&lt;o:p&gt;&lt;/o:p&gt;</span></p><p style=\"margin-bottom:0.0001pt\">How do I create the ScopedRegionManager using the regions I've explained?</p><p style=\"margin-bottom:0.0001pt\"></p><p style=\"margin-bottom:0.0001pt\">&lt;o:p&gt; (On a side note, t<span>he UIComposition.sln shows </span>an example in<span>Modules \\ Controllers \\ EmployeesController.c</span>s  OnEmployeeSelected() method.<span>  </span>This,however, is creating a new view for each employee??<span>  </span>I want to have a single view and update thesingle View.Model since the screen has edit capabilities instead of being viewonly.) &lt;/o:p&gt;</p>",
    "PostedDate": "2008-12-07T05:43:13.927-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]