[
  {
    "Id": "168493",
    "ThreadId": "50312",
    "Html": "Hi All,<br>\r\n<br>\r\nHas anyone used a keybinding defined in a UserControl view?&nbsp; I've tried\r\na few things but have so far failed to get the correct setup for this.<br>\r\n<br>\r\nConfusingly you can't use a binding on a keybinding ... I have a binding on my presenter class that I use for a button like:<br>\r\n<br>\r\n&lt;Button Command=&quot;{Binding RefreshFilesListCommand}&quot;/&gt;<br>\r\n<br>\r\nAnd I just wish to combine keyboard gestures / keyboard strokes to the\r\nsame command ... anyone with any info/ideas it would be really\r\nappreciated.<br>\r\n<br>\r\nThanks, \r\n",
    "PostedDate": "2009-03-16T04:28:38.763-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "169895",
    "ThreadId": "50312",
    "Html": "<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\">Hi,</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\">Key input is necessarily focus-based. That means that if your control has an input binding you need to make sure that the control is focused in order for the binding to work. In the particular case of a Button, placing your mouse over the button is not enough, you need to press the button in order for the button to gain focus. That is why buttons are not the best choice to put keyBindings. In most scenarios KeyBindings are placed in the Window element or in a control that you are sure it's focused when you need it. </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span><span style=\"font-size:11pt;font-family:calibri\">You might want to take a look at </span><a href=\"http://msdn.microsoft.com/en-us/library/ms752308.aspx\"><span style=\"color:#0000ff;font-family:calibri\">Commanding Overview</span></a><span style=\"font-family:calibri\"> and </span><a href=\"http://msdn.microsoft.com/en-us/library/ms754010.aspx\"><span style=\"font-family:calibri\">Input Overview</span></a></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\">To assign a control a <b>KeyBinding</b> you need to add it to its <b>InputBindings. </b></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\">For example if you want to execute a command when you press F2 or pressing a button, you can add a key binding to the window’s <b>InputBinding</b>s as follows<b>:</b></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">      </span><span style=\"font-size:11pt;font-family:calibri\">In XAML: </span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">     &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Window</span> <span style=\"font-size:10pt;color:#ff0000;font-family:'courier new'\">x:Class</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">=</span><span style=\"font-size:10pt;font-family:'courier new'\">&quot;<span style=\"color:#0000ff\">WpfApplication1.Window1</span>&quot;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">            </span><span style=\"font-size:10pt;color:#ff0000;font-family:'courier new'\">xmlns</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">=</span><span style=\"font-size:10pt;font-family:'courier new'\">&quot;<span style=\"color:#0000ff\"><a href=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"><span style=\"color:#0000ff\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span></a></span>&quot;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">            </span><span style=\"font-size:10pt;color:#ff0000;font-family:'courier new'\">xmlns:x</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">=</span><span style=\"font-size:10pt;font-family:'courier new'\">&quot;<span style=\"color:#0000ff\"><a href=\"http://schemas.microsoft.com/winfx/2006/xaml\"><span style=\"color:#0000ff\">http://schemas.microsoft.com/winfx/2006/xaml</span></a></span>&quot;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">            </span><span style=\"font-size:10pt;color:#ff0000;font-family:'courier new'\">Title</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">=</span><span style=\"font-size:10pt;font-family:'courier new'\">&quot;<span style=\"color:#0000ff\">Window1</span>&quot; <span style=\"color:#ff0000\">Height</span><span style=\"color:#0000ff\">=</span>&quot;<span style=\"color:#0000ff\">300</span>&quot; <span style=\"color:#ff0000\">Width</span><span style=\"color:#0000ff\">=</span>&quot;<span style=\"color:#0000ff\">300</span>&quot;<span style=\"color:#0000ff\">&gt;</span>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">        &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Window.InputBindings</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">            &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">KeyBinding</span> <span style=\"font-size:10pt;color:#ff0000;font-family:'courier new'\">Command</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">=</span><span style=\"font-size:10pt;font-family:'courier new'\">&quot;<span style=\"color:#0000ff\">{Binding RefreshFilesListCommand}</span>&quot; <span style=\"color:#ff0000\">Key</span><span style=\"color:#0000ff\">=</span>&quot;<span style=\"color:#0000ff\">F2</span>&quot;<span style=\"color:#0000ff\">&gt;&lt;/</span><span style=\"color:#a31515\">KeyBinding</span><span style=\"color:#0000ff\">&gt;</span>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">        &lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Window.InputBindings</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">        &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Grid</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">            &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Button</span> <span style=\"font-size:10pt;color:#ff0000;font-family:'courier new'\">Command</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">=</span><span style=\"font-size:10pt;font-family:'courier new'\">&quot;<span style=\"color:#0000ff\">{Binding RefreshFilesListCommand}</span>&quot;<span style=\"color:#0000ff\">&gt;</span>Test Binging<span style=\"color:#0000ff\">&lt;/</span><span style=\"color:#a31515\">Button</span><span style=\"color:#0000ff\">&gt;</span>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">        &lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Grid</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">      &lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'courier new'\">Window</span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\"><span style=\"font-size:11pt;font-family:calibri\">Or the same can be accomplished in code:         </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">    </span><span style=\"font-size:10pt;color:#1f497d;font-family:'courier new'\">   </span><span style=\"font-size:10pt;color:#0000ff;font-family:'courier new'\">public</span><span style=\"font-size:10pt;font-family:'courier new'\"> Window1()</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">       {</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">                  InitializeComponent();            </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">                  <span style=\"color:#0000ff\">this</span>.InputBindings.Add(<span style=\"color:#0000ff\">new</span> KeyBinding(OrdersCommands.MySimpleCommand, <span style=\"color:#0000ff\">new</span> KeyGesture(Key.F2)));</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">       }</span> </p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"color:#1f497d;font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span><span style=\"font-size:11pt;font-family:calibri\">If you want to put the binding in a userControl you can use the UserControl's <b>Focus </b>method<b> </b>to set the focus on that control. You might find useful this MSDN article:<b> </b></span><a href=\"http://msdn.microsoft.com/en-us/library/aa969768.aspx\"><span style=\"font-family:calibri\">Focus Overview</span></a> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"color:#1f497d;font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\">Hope it helps! </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:11pt;font-family:calibri\">Matias Bonaventura</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\"><a href=\"http://blogs.southworks.net/\"><span style=\"font-size:11pt;font-family:calibri\">http://blogs.southworks.net/matiasb</span></a></p>\r\n</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\">&nbsp;</p>\r\n</span></p>\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\">&nbsp;</p>\r\n</span>\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\">\r\n<p style=\"margin:0cm 0cm 0pt -1.2pt\">\r\n<p style=\"margin:0cm 0cm 0pt -0.6pt\">&nbsp;</p>\r\n</p>\r\n</p>\r\n</p>\r\n",
    "PostedDate": "2009-03-19T09:40:04.307-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "178165",
    "ThreadId": "50312",
    "Html": "<p>Hi findjammer!</p>\r\n<p>I have encountered the same issue with keybindings. Unfortunately, the two solutions from Matias don’t work. The XAML solution won’t compile because you cannot define a binding within the KeyBinding Command property (it’s not a DependencyProperty).  And the code solution works only with commands exposed through static properties.<br>\r\n  <br>\r\nYou might find my approach useful. See <a href=\"http://compositeextensions.codeplex.com/Thread/View.aspx?ThreadId=52980\">http://compositeextensions.codeplex.com/Thread/View.aspx?ThreadId=52980</a>.<br>\r\n<br>\r\njbe</p>\r\n",
    "PostedDate": "2009-04-11T07:42:25.553-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]