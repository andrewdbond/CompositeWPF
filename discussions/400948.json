[
  {
    "Id": "933129",
    "ThreadId": "400948",
    "Html": "\r\n<p>I'm encountering an odd issue when trying to setup nested regions. In my Shell, I have a ContentControl marked as &quot;ContractRegion&quot;. I can populate that region with my ContractView and its associated data without an issue.</p>\r\n<p>Then, on the ContractView, on the left is a ListBox (shows data correctly) and on the right is another ContentControl defining a second region called &quot;ProjectRegion&quot;. When I select a project from the ListBox, I call a method on my controller that get's the\r\n instance of the ProjectView and activates it inside ProjectRegion.</p>\r\n<p>The problem is that the view loads on the entire window, not inside the Grid.Column that it's supposed to.</p>\r\n<p>Here is some code:</p>\r\n<p>My Shell.xaml:</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Window</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">EstimateModelRedesign.Shell</span><span style=\"color:black\">&quot;</span>\r\n        <span style=\"color:red\">xmlns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:black\">&quot;</span>\r\n        <span style=\"color:red\">xmlns:x</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:black\">&quot;</span>\r\n        <span style=\"color:red\">xmlns:cal</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://www.codeplex.com/CompositeWPF</span><span style=\"color:black\">&quot;</span>\r\n        <span style=\"color:red\">xmlns:local</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:EstimateModelRedesign</span><span style=\"color:black\">&quot;</span>\r\n        <span style=\"color:red\">Title</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Shell</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">462</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">523</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.RowDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">RowDefinition</span> <span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">11*</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">RowDefinition</span><span style=\"color:blue\">/&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.RowDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ContentControl</span> <span style=\"color:red\">cal:RegionManager.RegionName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ContractRegion</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">ContentControl</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Grid.Row</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Content</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">START!</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Command</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=StartCommand}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Window</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p></p>\r\n<p>My ContractView.xaml:</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">EstimateModelRedesign.ContractView</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:x</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:mc</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.openxmlformats.org/markup-compatibility/2006</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">xmlns:d</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/expression/blend/2008</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">xmlns:cal</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://www.codeplex.com/CompositeWPF</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:local</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:EstimateModelRedesign</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">mc:Ignorable</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">d</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">d:DesignHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">417</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">d:DesignWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">502</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">150</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">350</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ListBox</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Projects}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">DisplayMemberPath</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Name</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">SelectedItem</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=SelectedProject}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ContentControl</span> <span style=\"color:red\">Grid.Column</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">cal:RegionManager.RegionName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ProjectRegion</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl</span><span style=\"color:blue\">&gt;</span>\r\n\r\n</pre>\r\n</div>\r\n<p></p>\r\n<p>And finally, my ProjectView.xaml:</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">EstimateModelRedesign.ProjectView</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:x</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:mc</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.openxmlformats.org/markup-compatibility/2006</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">xmlns:d</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/expression/blend/2008</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">mc:Ignorable</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">d</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">d:DesignHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">300</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">d:DesignWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">300</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">TextBlock</span> <span style=\"color:red\">Text</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Name, StringFormat='Project Name: {0}'}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p></p>\r\n<p>I activate views like this on my controller class:</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">public</span> <span style=\"color:blue\">void</span> SetupContract()\r\n{\r\n    IRegion region = _regionManager.Regions[RegionNames.ContractRegion];\r\n\r\n    <span style=\"color:blue\">var</span> contractView = region.GetView(<span style=\"color:#a31515\">&quot;ContractView&quot;</span>);\r\n\r\n    <span style=\"color:blue\">if</span> (contractView == <span style=\"color:blue\">null</span>)\r\n    {\r\n        contractView = ServiceLocator.Current.GetInstance&lt;ContractView&gt;();\r\n        region.Add(contractView, <span style=\"color:#a31515\">&quot;ContractView&quot;</span>);\r\n    }\r\n\r\n    region.Activate(contractView);\r\n\r\n    Contract test = <span style=\"color:blue\">new</span> Contract(<span style=\"color:#a31515\">&quot;Contract 1&quot;</span>, <span style=\"color:#a31515\">&quot;0&quot;</span>);\r\n\r\n    <span style=\"color:blue\">for</span> (<span style=\"color:blue\">int</span> i = 0; i &lt; 3; &#43;&#43;i)\r\n    {\r\n        Project proj = <span style=\"color:blue\">new</span> Project(<span style=\"color:blue\">string</span>.Format(<span style=\"color:#a31515\">&quot;Project{0}&quot;</span>, i))\r\n        {\r\n            Quantity = i &#43; 1,\r\n            UnitCost = i * 10,\r\n            UnitSellPrice = (i * 10) &#43; 5\r\n        };\r\n\r\n        test.Projects.Add(proj);\r\n    }\r\n\r\n    _eventAggregator.GetEvent&lt;ContractLoaded&gt;().Publish(test);\r\n}\r\n\r\n<span style=\"color:blue\">public</span> <span style=\"color:blue\">void</span> ProjectSelected(Project project)\r\n{\r\n    IRegion region = _regionManager.Regions[RegionNames.ContractRegion];\r\n\r\n    <span style=\"color:blue\">var</span> projectView = region.GetView(<span style=\"color:#a31515\">&quot;ProjectView&quot;</span>);\r\n\r\n    <span style=\"color:blue\">if</span> (project != <span style=\"color:blue\">null</span>)\r\n    {\r\n        <span style=\"color:blue\">if</span> (projectView == <span style=\"color:blue\">null</span>)\r\n        {\r\n            projectView = ServiceLocator.Current.GetInstance&lt;ProjectView&gt;();\r\n            region.Add(projectView, <span style=\"color:#a31515\">&quot;ProjectView&quot;</span>);\r\n        }\r\n\r\n        region.Activate(projectView);\r\n        _eventAggregator.GetEvent&lt;ProjectLoaded&gt;().Publish(project);\r\n    }\r\n}\r\n</pre>\r\n</div>\r\n<p></p>\r\n",
    "PostedDate": "2012-10-26T12:53:19.63-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "933131",
    "ThreadId": "400948",
    "Html": "<p>I've added the sample I'm working on to my <a href=\"https://skydrive.live.com/redir?resid=152C8532AEE08875!142&amp;authkey=!ANBEMPOCIq8jj9Q\" target=\"_blank\">SkyDrive account</a></p>",
    "PostedDate": "2012-10-26T12:56:26.823-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "933138",
    "ThreadId": "400948",
    "Html": "<p>I figured it out...I realized in the ProjectSelected method on the controller, I was grabbing the wrong region string from the RegionNames class. That's what I get for copy/paste!!</p>",
    "PostedDate": "2012-10-26T13:17:59.143-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "933142",
    "ThreadId": "400948",
    "Html": "<p>Hi,</p>\r\n<p>I haven't checked your repro sample application yet, but so far after reviewing the code snippets you posted, I found that in the <strong>ProjectSelected </strong>method you are injecting the <strong>ProjectView </strong>inside the <strong>ContractRegion </strong>instead of the <strong>ProjectRegion</strong>. This can be seen in the following line of the <strong>ProjectSelected </strong>method:</p>\r\n<p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre>IRegion region = _regionManager.Regions[RegionNames.ContractRegion];\r\n</pre>\r\n</div>\r\n</p>\r\n<p>Hence, when the aforementioned method is executed, the <strong>ContractView </strong>is being \"replaced\" by the <strong>ProjectView</strong>.</p>\r\n<p>Please let us know if using the <strong>ProjectRegion </strong>instead of the <strong>ContractRegion </strong>in your <strong>ProjectSelected </strong>method solves the issue you are mentioning.</p>\r\n<p>Regards,</p>\r\n<p>Damian Cherubini<br /> <a href=\"http://blogs.southworks.net/dcherubini\">http://blogs.southworks.net/dcherubini</a></p>",
    "PostedDate": "2012-10-26T13:21:21.12-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "933144",
    "ThreadId": "400948",
    "Html": "<p>Thanks Damian, I had just noticed that before you replied. Changed my code and everything works as expected now. Thanks for the reply.</p>",
    "PostedDate": "2012-10-26T13:22:53.777-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]