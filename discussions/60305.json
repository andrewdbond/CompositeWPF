[
  {
    "Id": "204218",
    "ThreadId": "60305",
    "Html": "<p>When I load data into my app, I want to dim the window and show a waiting animation just like the Lightbox 2 script works.&nbsp; How would I go about doing this?&nbsp; Thanks.</p>",
    "PostedDate": "2009-06-22T13:30:52.397-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204574",
    "ThreadId": "60305",
    "Html": "<p>As a follow-up, I added the following to my Shell.xaml file:</p>\r\n<p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>            <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">StackPanel</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Auto</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Height</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Auto</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Margin</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">10,10,10,10</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Grid</span><span style=\"color:Blue\">&gt;</span>\r\n                    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">ItemsControl</span> <span style=\"color:Red\">cal:RegionManager.RegionName</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{x:Static infrastructure:RegionNames.MainRegion}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Auto</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Height</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Auto</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">HorizontalAlignment</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Stretch</span><span style=\"color:Black\">&quot;</span>  <span style=\"color:Red\">VerticalAlignment</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Stretch</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n                    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Border</span> <span style=\"color:Red\">x:Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">panelLoading</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Visibility</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Collapsed</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">&gt;</span>\r\n                        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Grid</span><span style=\"color:Blue\">&gt;</span>\r\n                            <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Border</span> <span style=\"color:Red\">Background</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Black</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Opacity</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">0.49</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span><span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Border</span><span style=\"color:Blue\">&gt;</span>\r\n                            <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Viewbox</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">100</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">HorizontalAlignment</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Center</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n                                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Frame</span> <span style=\"color:Red\">Source</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">ucWaiting.xaml</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">/&gt;</span>\r\n                            <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Viewbox</span><span style=\"color:Blue\">&gt;</span>\r\n                        <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Grid</span><span style=\"color:Blue\">&gt;</span>\r\n                    <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Border</span><span style=\"color:Blue\">&gt;</span>\r\n                <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Grid</span><span style=\"color:Blue\">&gt;</span>\r\n            <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">StackPanel</span><span style=\"color:Blue\">&gt;</span>\r\n</pre>\r\n</div>\r\nHowever I'm not sure how to wire up events etc. in the ShellPresenter to change the visibility of panelLoading.</p>",
    "PostedDate": "2009-06-23T09:33:53.967-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204592",
    "ThreadId": "60305",
    "Html": "<p>I moved the Border to my actual view and out of the shell.&nbsp; I had a method to my view's interface to toggling the visibility of the Border.&nbsp;</p>\r\n<p>The problem I now have is that when my presenter calls into the view, and the view changes the visibility, I do not see a change in my app.&nbsp;</p>\r\n<p>Is this a UI thread issue?</p>",
    "PostedDate": "2009-06-23T10:19:33.787-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204599",
    "ThreadId": "60305",
    "Html": "<p>I thought it might be a threading issue, so I'm doing this in my view:</p>\r\n<p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>        <span style=\"color:Blue\">private</span> <span style=\"color:Blue\">delegate</span> <span style=\"color:Blue\">void</span> ShowWaitScreenInvoker(<span style=\"color:Blue\">bool</span> show);\r\n\r\n        <span style=\"color:Blue\">public</span> <span style=\"color:Blue\">void</span> ShowWaitScreen(<span style=\"color:Blue\">bool</span> show) {\r\n            var invoker = <span style=\"color:Blue\">new</span> ShowWaitScreenInvoker(ShowWaitScreenCallback);\r\n            Dispatcher.Invoke(DispatcherPriority.Normal, invoker, show);\r\n        }\r\n\r\n        <span style=\"color:Blue\">private</span> <span style=\"color:Blue\">void</span> ShowWaitScreenCallback(<span style=\"color:Blue\">bool</span> show) {\r\n            borderLoading.Visibility = show ? Visibility.Visible : Visibility.Collapsed;\r\n        }\r\n</pre>\r\n</div>\r\nHowever I'm still now seeing the change occur.</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-06-23T10:42:58.45-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204640",
    "ThreadId": "60305",
    "Html": "<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>Hi bittondb, </span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">If I understood your scenario correctly you want to dim a window while certain process occurs. &nbsp;You have already achieved the visual effect, but you can't communicate between the dimmed view and the shell<strong><em> </em></strong>window.</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">The view that implements the dim beheaviour and the Shell should be decoupled. So the approach that <span style=\"color:#1f497d\">P</span>rism-v2 enables to communicate between them is using the </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458915.aspx\"><span style=\"font-size:small;font-family:Calibri\">EventAggregator</span></a><span style=\"font-size:small\"><span style=\"font-family:Calibri\">.</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">If your case, when the process starts you should </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458942.aspx\"><span style=\"font-size:small;font-family:Calibri\">publish an event</span></a><span style=\"font-size:small;font-family:Calibri\"> from the shell (or the module that starts the process) and </span><a href=\"http://msdn.microsoft.com/en-us/library/dd458904.aspx\"><span style=\"font-size:small;color:#0000ff;font-family:Calibri\">subscribe to this event</span></a><span style=\"font-size:small;font-family:Calibri\"> in the view and dim&nbsp; the window. When the process ends, you can publish another event and show the window normally again. </span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>You can read further about communication in prism applications in the following article from the documentation:</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt;text-indent:-18pt\"><span style=\"font-family:Symbol\"><span style=\"\"><span style=\"font-size:small\">&middot;</span><span style=\"font:7pt &quot;Times New Roman&quot;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style=\"\" lang=EN-US><a href=\"http://msdn.microsoft.com/en-us/library/dd458878.aspx\"><span style=\"font-size:small;color:#0000ff;font-family:Calibri\">Communication</span></a></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>Regarding your question about the UI Thread, you will see that the <strong>EventAggregator.Subscribe</strong> method provides an overload to specify on which thread the callback delegate will be invoked.</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">On the other hand, to show the Waiting Animation you might &nbsp;find useful the </span><a href=\"http://msdn.microsoft.com/en-us/library/system.windows.controls.progressbar.aspx\"><span style=\"font-size:small;color:#0000ff;font-family:Calibri\">ProgressBar Control</span></a><span style=\"font-size:small;font-family:Calibri\"> as it can be </span><a href=\"http://msdn.microsoft.com/en-us/library/ms750638.aspx\"><span style=\"font-size:small;color:#0000ff;font-family:Calibri\">easily customizable</span></a><span style=\"font-size:small;font-family:Calibri\">.</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>Hope it helps!</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\">Matias Bonaventura</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><a href=\"http://blogs.southworks.net/\"><span style=\"font-size:small;font-family:Calibri\">http://blogs.southworks.net/matiasb</span></a></p>",
    "PostedDate": "2009-06-23T13:11:37.407-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204654",
    "ThreadId": "60305",
    "Html": "<p>Would I publish and subscribe to these events within my same view module?</p>",
    "PostedDate": "2009-06-23T13:46:25.537-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204664",
    "ThreadId": "60305",
    "Html": "<p>In my view presenter, i publish and also subscribe to the same event.&nbsp; I use ThreadUI as the thread option, and I also see my callback being hit however still no change.</p>\r\n<p>If I comment out the stuff I do after displaying the wait screen (as well as the call to remove it), it works after the method returns.&nbsp; Something is blocking.&nbsp;</p>\r\n<p>I even added a Thread.Sleep(5000) to add artificial delay and still no-go.</p>",
    "PostedDate": "2009-06-23T14:16:06.183-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "205044",
    "ThreadId": "60305",
    "Html": "<p>Once I made my database call truely async (with callback), then the events worked as expected.</p>",
    "PostedDate": "2009-06-24T08:46:56.597-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]