[
  {
    "Id": "582274",
    "ThreadId": "250146",
    "Html": "\r\n<div style=\"color:black; background-color:white\">Good morning,</div>\r\n<p>I am trying to build a modular application in Silverlight 4 with Prism (MEF) but I have this error :</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>Failed to load type <span style=\"color:blue\">for</span> module ModuleC. <span style=\"color:blue\">his</span> error occurred when <span style=\"color:blue\">using</span> MEF <span style=\"color:blue\">in</span> a Silverlight application, please ensure that the CopyLocal property of the reference to the MefExtensions assembly <span style=\"color:blue\">is</span> <span style=\"color:blue\">set</span> to <span style=\"color:blue\">true</span> <span style=\"color:blue\">in</span> the main application/shell and <span style=\"color:blue\">false</span> <span style=\"color:blue\">in</span> all other assemblies. </pre>\r\n<pre>Inner exception :</pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre>{System.Net.WebException: An exception occurred during a WebClient request. ---&gt; System.NotSupportedException: The URI prefix <span style=\"color:blue\">is</span> not recognized.\r\n   at System.Net.WebRequest.Create(Uri requestUri)\r\n   at System.Net.WebClient.GetWebRequest(Uri address)\r\n   at System.Net.WebClient.OpenReadAsync(Uri address, Object userToken)\r\n   --- End of inner exception stack trace ---}\r\n</pre>\r\n</div>\r\n</pre>\r\n<pre>I always go in the : <pre style=\"font-family:Consolas; background:#353535; color:#b1b1b1; font-size:11px\">&nbsp;</pre>\r\n<pre style=\"font-family:Consolas; background:#353535; color:#b1b1b1; font-size:11px\"><span style=\"color:#8dd30a\">private</span>&nbsp;<span style=\"color:#8dd30a\">void</span>&nbsp;IModuleTypeLoader_LoadModuleCompleted(<span style=\"color:#8dd30a\">object</span>&nbsp;sender,&nbsp;<span style=\"color:#47a3ed\">LoadModuleCompletedEventArgs</span>&nbsp;e)\r\n</pre>\r\n</pre>\r\n<pre>&nbsp;</pre>\r\n<pre>My CopyLocal property is to true in my shell project.</pre>\r\n<pre>Here is my bootStrapper :</pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre><span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> BootStrapper : MefBootstrapper\r\n    {\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">const</span> <span style=\"color:blue\">string</span> _moduleCatalogUri = <span style=\"color:#a31515\">&quot;/Learning.Prism;component/ModulesCatalog.xaml&quot;</span>;\r\n\r\n        <span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">void</span> ConfigureAggregateCatalog()\r\n        {\r\n            <span style=\"color:blue\">base</span>.ConfigureAggregateCatalog();\r\n\r\n            <span style=\"color:blue\">this</span>.AggregateCatalog.Catalogs.Add(<span style=\"color:blue\">new</span> AssemblyCatalog(<span style=\"color:blue\">typeof</span>(BootStrapper).Assembly));\r\n        }\r\n\r\n        <span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> System.Windows.DependencyObject CreateShell()\r\n        {\r\n            <span style=\"color:blue\">return</span> <span style=\"color:blue\">this</span>.Container.GetExportedValue&lt;Shell&gt;();\r\n        }\r\n\r\n        <span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> Microsoft.Practices.Prism.Modularity.IModuleCatalog CreateModuleCatalog()\r\n        {\r\n            <span style=\"color:blue\">return</span> Microsoft.Practices.Prism.Modularity.ModuleCatalog.CreateFromXaml(<span style=\"color:blue\">new</span> Uri(_moduleCatalogUri, UriKind.Relative));\r\n        }\r\n\r\n        <span style=\"color:blue\">protected</span> <span style=\"color:blue\">override</span> <span style=\"color:blue\">void</span> InitializeShell()\r\n        {\r\n            <span style=\"color:blue\">base</span>.InitializeShell();\r\n            Application.Current.RootVisual = (UIElement)<span style=\"color:blue\">this</span>.Shell;\r\n        }\r\n    }\r\n</pre>\r\n<pre>My xaml ModulesCatalog.xaml :</pre>\r\n<pre>&nbsp;</pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleCatalog</span> <span style=\"color:red\">xmlns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:black\">&quot;</span> \r\n                          <span style=\"color:red\">xmlns:x</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:black\">&quot;</span> \r\n                          <span style=\"color:red\">xmlns:sys</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:System;assembly=mscorlib</span><span style=\"color:black\">&quot;</span> \r\n                          <span style=\"color:red\">xmlns:Modularity</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">clr-namespace:Microsoft.Practices.Prism.Modularity;assembly=Microsoft.Practices.Prism</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfoGroup</span> <span style=\"color:red\">Ref</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Learning.Prism.ModuleA.xap</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">InitializationMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">WhenAvailable</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfo</span> <span style=\"color:red\">ModuleName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ModuleA</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfoGroup</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfoGroup</span> <span style=\"color:red\">Ref</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Learning.Prism.ModuleB.xap</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">InitializationMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">WhenAvailable</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfo</span> <span style=\"color:red\">ModuleName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ModuleB</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfoGroup</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfoGroup</span> <span style=\"color:red\">Ref</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Learning.Prism.ModuleC.xap</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">InitializationMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">WhenAvailable</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfo</span> <span style=\"color:red\">ModuleName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ModuleC</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleInfoGroup</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Modularity</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">ModuleCatalog</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n</pre>\r\n<pre>&nbsp;</pre>\r\n<pre>My shell</pre>\r\n<pre>&nbsp;</pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre>[Export]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">partial</span> <span style=\"color:blue\">class</span> Shell : UserControl, IPartImportsSatisfiedNotification\r\n    {\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">const</span> <span style=\"color:blue\">string</span> _moduleAName = <span style=\"color:#a31515\">&quot;ModuleA&quot;</span>;\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">static</span> Uri _moduleAViewUri = <span style=\"color:blue\">new</span> Uri(<span style=\"color:#a31515\">&quot;/ModuleAView&quot;</span>, UriKind.Relative);\r\n\r\n\r\n        [Import(AllowRecomposition = <span style=\"color:blue\">false</span>)]\r\n         <span style=\"color:blue\">public</span> IModuleManager ModuleManager;\r\n\r\n        [Import(AllowRecomposition = <span style=\"color:blue\">false</span>)]\r\n        <span style=\"color:blue\">public</span> IRegionManager RegionManager;\r\n\r\n        <span style=\"color:blue\">public</span> Shell()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">void</span> OnImportsSatisfied()\r\n        {\r\n            <span style=\"color:blue\">this</span>.ModuleManager.LoadModuleCompleted &#43;= \r\n                (s, e) =&gt;\r\n                {\r\n                    <span style=\"color:blue\">if</span> (e.ModuleInfo.ModuleName == _moduleAName)\r\n                        <span style=\"color:blue\">this</span>.RegionManager.RequestNavigate(RegionNames.MainContentRegion, _moduleAViewUri);\r\n                };\r\n        }\r\n    }\r\n</pre>\r\n</div>\r\n</pre>\r\n</div>\r\n</pre>\r\n<pre>My module C : </pre>\r\n<pre><pre>[ModuleExport(<span style=\"color:blue\">typeof</span>(ModuleC))]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> ModuleC : IModule\r\n    {\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">void</span> Initialize()\r\n        {\r\n        }\r\n    }\r\n</pre>\r\n<pre>&nbsp;</pre>\r\n</pre>\r\n<pre>&nbsp;Thank you for your help !</pre>\r\n<pre>Regards,</pre>\r\n<pre>S</pre>\r\n</div>\r\n",
    "PostedDate": "2011-03-17T12:09:18.7-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "582640",
    "ThreadId": "250146",
    "Html": "<p>Hi,</p>\r\n<p>The exception you are experiencing might be caused by the way you are declaring the <strong>ModuleInfo</strong>&acute;s <em>Ref property</em> in you <strong>ModulesCatalog.xaml</strong> file.</p>\r\n<p>The correct way to indicate the name of the module to load in the <em>Ref</em> property is to put the name of your xap file, without any additional information such as the namespace. For example, in your case, you should put just <em>ModuleA.xap</em>. In your ModulesCatalog.xaml could look like this:</p>\r\n<p><span style=\"color: blue; font-size: 10pt;\" lang=\"EN-US\">\r\n<div style=\"color: black; background-color: white;\">\r\n<pre><span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleCatalog</span> <span style=\"color: red;\">xmlns</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color: black;\">\"</span> \r\n                          <span style=\"color: red;\">xmlns:x</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color: black;\">\"</span> \r\n                         <span style=\"color: red;\">xmlns:sys</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">clr-namespace:System;assembly=mscorlib</span><span style=\"color: black;\">\"</span> \r\n                         <span style=\"color: red;\">xmlns:Modularity</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">clr-namespace:Microsoft.Practices.Prism.Modularity;assembly=Microsoft.Practices.Prism</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n   <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfoGroup</span> <span style=\"color: red;\">Ref</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleA.xap</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">InitializationMode</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">WhenAvailable</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n       <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfo</span> <span style=\"color: red;\">ModuleName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleA</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">/&gt;</span>\r\n   <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfoGroup</span><span style=\"color: blue;\">&gt;</span>\r\n   <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfoGroup</span> <span style=\"color: red;\">Ref</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleB.xap</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">InitializationMode</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">WhenAvailable</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n       <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfo</span> <span style=\"color: red;\">ModuleName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleB</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">/&gt;</span>\r\n   <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfoGroup</span><span style=\"color: blue;\">&gt;</span>\r\n   <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfoGroup</span> <span style=\"color: red;\">Ref</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleC.xap</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">InitializationMode</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">WhenAvailable</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n        <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfo</span> <span style=\"color: red;\">ModuleName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">ModuleC</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">/&gt;</span>\r\n   <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleInfoGroup</span><span style=\"color: blue;\">&gt;</span>\r\n<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">Modularity</span><span style=\"color: blue;\">:</span><span style=\"color: #a31515;\">ModuleCatalog</span><span style=\"color: blue;\">&gt;</span>\r\n</pre>\r\n</div>\r\n</span></p>\r\n<p>Setting the complete namespace into the Ref property will cause an error, such as the one you&rsquo;ve experimented.</p>\r\n<p>I hope you find this information useful.</p>\r\n<p>Thanks,</p>\r\n<p>Miguel Bronzovic<br /><a href=\"http://blogs.southworks.net/mbronzovic\">http://blogs.southworks.net/mbronzovic</a></p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-03-18T07:33:46.693-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "583343",
    "ThreadId": "250146",
    "Html": "<p>Thank you for your help.</p>\r\n<p>I have tried what you said but I still have the same error.</p>\r\n<p>If you want you can download my VS Solution : <a title=\"Here\" href=\"http://www.monkcode.net/tmp/Learning.Prism.rar\">here</a>&nbsp;! I will really appreciate your help because I would like to create a post for my blog on how to create a modular application with Prism ;)</p>\r\n<p>(RAR File&nbsp;is around 4mo because I am using the PRISM project instead of DLL)</p>\r\n<p>Thank you,</p>\r\n<p>S</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-03-20T10:45:23.78-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "584518",
    "ThreadId": "250146",
    "Html": "<p>Hi,</p>\r\n<p>After examining your solution, we&rsquo;ve found that a possible cause for the issue you are experiencing could be that the XAP files you&rsquo;re trying to load in the <strong>ModulesCatalog</strong> are not present in the Web Project&rsquo;s <strong>ClientBin</strong> folder.<br />You can read <a href=\"http://compositewpf.codeplex.com/discussions/240958\">this thread</a> useful, in which there is an explanation of how to output a XAP file for every module in your application.</p>\r\n<p>Additionally, you might find the <a href=\"http://prismtk.codeplex.com/\">Prism Training Kit</a> handy, specifically <strong>Exercise 2</strong> in the <strong>Modularity Hands-On Lab</strong>. In this HOL you will find the steps you need to complete in order to fulfill your requirement.<br />You might also find the <a href=\"http://msdn.microsoft.com/en-us/library/ff921163(v=PandP.40).aspx\">Modularity QuickStart for Silverlight</a>&nbsp;useful to see an example of modular application development with Prism.</p>\r\n<p>Thanks,</p>\r\n<p>Miguel Bronzovic<br /><a href=\"http://blogs.southworks.net/mbronzovic\">http://blogs.southworks.net/mbronzovic</a></p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-03-22T10:55:25.523-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "584535",
    "ThreadId": "250146",
    "Html": "<p>Thank you Miguel.</p>\r\n<p>I will check the TK to understand the Modularity and solve my problem later.</p>\r\n<p>Thx</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-03-22T11:33:41.887-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "588877",
    "ThreadId": "250146",
    "Html": "<p>i&nbsp; got the exception the same as monk, and i found the exception caused by webclient base address &nbsp;internal in Microsoft.Practices.Prism.</p>\r\n<p>so you need check your application&nbsp; which set the hostting web project as&nbsp; the startproject</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-03-30T08:28:08.303-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]