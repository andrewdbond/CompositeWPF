[
  {
    "Id": "609348",
    "ThreadId": "256848",
    "Html": "\r\n<p>This is a recurrent question, still not having a definitive answer (or I did not find it out): A module needs to get the list of all other modules.</p>\r\n<p>The first idea is to get the module catalog using some IModuleCatalog object created (I am using MEF) and updated by Prism but this does not seem that easy to do and there is the risk of interfering with Prism mechanims when using methods I found.</p>\r\n<p>Another way could be to create my own object starting from import metadata but I do not know how to import modules defined with [<strong>ModuleExport</strong>(typeof(SomeModuleA))].</p>\r\n<p>Did somebody already achieve this ?</p>\r\n",
    "PostedDate": "2011-05-08T22:54:37.537-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "609353",
    "ThreadId": "256848",
    "Html": "<p>posting a question makes you think differently: The definitive answer is to create my own list, I need some non-Prism information about modules and some of the modules must not be in the list.</p>\n<p>Here is what I did:</p>\n<p><strong>Create a bean:</strong></p>\n<div style=\"color: black; background-color: white;\">\n<pre>    <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">class</span> InternalModuleInfo\n    {\n        <span style=\"color: blue;\">string</span> key;\n        <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">string</span> Key\n        {\n            <span style=\"color: blue;\">get</span> { <span style=\"color: blue;\">return</span> key; }\n            <span style=\"color: blue;\">set</span> { <span style=\"color: blue;\">this</span>.key = value; }\n        }      \n       <span style=\"color: green;\">//Others properties to be inserted...</span>\n    }<br /><br /><strong>Export the bean from each module:</strong><br /><div style=\"color: black; background-color: white;\"><pre>    [ModuleExport(<span style=\"color: blue;\">typeof</span>(MyModule))]\n    <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">class</span> MyModule : IModule\n    {\n\n        [Export(<span style=\"color: blue;\">typeof</span>(InternalModuleInfo))]\n        InternalModuleInfo internalModuleInfo = <span style=\"color: blue;\">new</span> InternalModuleInfo();\n\n\n        <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">void</span> Initialize()\n        {\n            internalModuleInfo.Key = <span style=\"color: #a31515;\">\"1\"</span>;\n        }\n<br /></pre>\n</div>\n<strong>Import internalModuleInfo</strong> beans\n<div style=\"color: black; background-color: white;\">\n<pre>    <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">class</span> CommonViewModel : NotificationObject, IPartImportsSatisfiedNotification\n    {\n       ...\n\n        [ImportMany(AllowRecomposition = <span style=\"color: blue;\">true</span>)]\n        <span style=\"color: blue;\">private</span> Lazy&lt;InternalModuleInfo&gt;[] _internalModulesInfo;\n        \n        ...\n        \n        <span style=\"color: blue;\">public</span> <span style=\"color: blue;\">void</span> OnImportsSatisfied()\n        {\n            <span style=\"color: blue;\">foreach</span> (<span style=\"color: blue;\">var</span> lazyInternalModuleInfo <span style=\"color: blue;\">in</span> _internalModulesInfo)\n            {\n                InternalModuleInfo internalModuleInfo = lazyInternalModuleInfo.Value;\n            }\n\n        }\n</pre>\n</div>\n</pre>\n</div>\n<p>This works but the OnImportsSatisfied method in CommonViewModel is raised as initialization modules and setting keys values (internalModuleInfo.Key = <span style=\"color: #a31515;\">\"1\"</span>;) is not yet done. If I wait those modules are initialized I get correct values in lazyInternalModuleInfo. In my particular case this is not an issue but I am not satisfied with this. Any idea to improve it?</p>\n<p>And at last I am wondering why so many discussion about this as it is so simple to solve. Did I miss something?</p>\n<pre>\n</pre>\n<pre>\n</pre>",
    "PostedDate": "2011-05-08T23:08:26.753-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]