[
  {
    "Id": "651951",
    "ThreadId": "267633",
    "Html": "<p>Hi,</p>\n<p>I created a WPF app with MEF by following StockTraderRI sample. I have a view \"InputView\"&nbsp;which is located in ThroughputModule and&nbsp;need to be loaded in \"TopRegion\" in Shell. This is the code in MEF bootstrapper and I have the imported \"AutoPolateExportedViewBehavior.cs\", \"IViewRegionRegistration.cs\", \"ViewExportAttribute.cs\" in to \"Infrastructure\" project.</p>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: blue;\">protected</span>&nbsp;<span style=\"color: blue;\">override</span>&nbsp;<span style=\"color: blue;\">void</span>&nbsp;ConfigureAggregateCatalog()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">base</span>.ConfigureAggregateCatalog();\r\n \r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">this</span>.AggregateCatalog.Catalogs.Add(<span style=\"color: blue;\">new</span>&nbsp;<span style=\"color: #2b91af;\">AssemblyCatalog</span>(<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">NYRCPTAGXAddonBootstrapperMEF</span>).Assembly));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">this</span>.AggregateCatalog.Catalogs.Add(<span style=\"color: blue;\">new</span>&nbsp;<span style=\"color: #2b91af;\">AssemblyCatalog</span>(<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">AutoPopulateExportedViewsBehavior</span>).Assembly));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">this</span>.AggregateCatalog.Catalogs.Add(<span style=\"color: blue;\">new</span>&nbsp;<span style=\"color: #2b91af;\">AssemblyCatalog</span>(<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">ThroughputModule</span>).Assembly));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: blue;\">protected</span>&nbsp;<span style=\"color: blue;\">override</span>&nbsp;Microsoft.Practices.Prism.Regions.<span style=\"color: #2b91af;\">IRegionBehaviorFactory</span>&nbsp;ConfigureDefaultRegionBehaviors()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">var</span>&nbsp;factory&nbsp;=&nbsp;<span style=\"color: blue;\">base</span>.ConfigureDefaultRegionBehaviors();\r\n \r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory.AddIfMissing(<span style=\"color: #a31515;\">\"AutoPopulateExportedViewsBehavior\"</span>,&nbsp;<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">AutoPopulateExportedViewsBehavior</span>));\r\n \r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">return</span>&nbsp;factory;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">And I put the \"[ViewExport]\" in the inputView like this:</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">[<span style=\"color: #2b91af;\">PartCreationPolicy</span>(<span style=\"color: #2b91af;\">CreationPolicy</span>.NonShared)]&nbsp;<span style=\"color: green;\">//&nbsp;creates&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;view&nbsp;each&nbsp;time&nbsp;it&nbsp;is&nbsp;imported</span>\r\n&nbsp;&nbsp;&nbsp;&nbsp;[<span style=\"color: #2b91af;\">ViewExport</span>(RegionName&nbsp;=&nbsp;<span style=\"color: #a31515;\">\"TopRegion\"</span>)]\r\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">public</span>&nbsp;<span style=\"color: blue;\">partial</span>&nbsp;<span style=\"color: blue;\">class</span>&nbsp;<span style=\"color: #2b91af;\">Inputs</span>&nbsp;:&nbsp;<span style=\"color: #2b91af;\">UserControl</span>\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">public</span>&nbsp;Inputs()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InitializeComponent();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">This is the region in Shell.xaml:</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">ItemsControl</span><span style=\"color: red;\">&nbsp;Name</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"TopRegion\"</span><span style=\"color: red;\">&nbsp;</span><span style=\"color: red;\">regions</span><span style=\"color: blue;\">:</span><span style=\"color: red;\">RegionManager.RegionName</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"TopRegion\"</span><span style=\"color: blue;\">&nbsp;&gt;</span> <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">ItemsControl</span><span style=\"color: blue;\">&gt;</span></pre>\n</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">&nbsp;</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">But when I run the shell is empty, I put break points in AutoPopulateExportedViewBehavior and in the InputView, </pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">but none of them being hit after bootstrapper.Run(). </pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">Seems like the view doesn't get registerd at all. I have seen people talked about that the \"Infrastructure\" assembly was loaded </pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">through \"StockTraderRICommands\" which I don't have, but I do have added <span style=\"color: #000000;\">\"AutoPopulateExportedViewsBehavior\" added in aggregationCatalog</span></pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: #000000;\">so it should perform register exported view, right?</span></pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">What could cause the problem?</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">Thanks!</pre>\n</pre>",
    "PostedDate": "2011-08-03T12:35:26.03-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "652324",
    "ThreadId": "267633",
    "Html": "<p>Hi,</p>\r\n<p>Based on our understanding of the code you've posted, you don't seem to be doing anything wrong when using the <strong>ViewExport</strong> attribute. Therefore, it would be helpful if you could provide us with a repro sample application, so that we can help you find the cause of your problem.</p>\r\n<p>Thanks,</p>\r\n<p>Guido Leandro Maliandi<br /> <a href=\"http://blogs.southworks.net/gmaliandi\">http://blogs.southworks.net/gmaliandi</a></p>",
    "PostedDate": "2011-08-04T05:40:08.36-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "652330",
    "ThreadId": "267633",
    "Html": "<p>Hi Guido,</p>\r\n<p>Thank you so much for offering help! I've been stuck for second day on this. My app is actrually a WPF class library hosted in another application (ArcGIS Explore). This app is started when a dockable window is clicked from ArcGIS Explore.</p>\r\n<p>How can I upload my code?</p>\r\n<p>Thanks!</p>",
    "PostedDate": "2011-08-04T05:48:53.483-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "652339",
    "ThreadId": "267633",
    "Html": "<p>Hi,</p>\r\n<p>You could create a simple new application that only has the necessary code to portray the problem you're experiencing, so we can use it to verify what could be making you experience it.</p>\r\n<p>Then you could upload that sample into a page like <a href=\"http://skydrive.live.com/\">SkyDrive</a> for us to check it.</p>\r\n<p>Thanks,</p>\r\n<p>Guido Leandro Maliandi<br /> <a href=\"http://blogs.southworks.net/gmaliandi\">http://blogs.southworks.net/gmaliandi</a></p>",
    "PostedDate": "2011-08-04T05:59:16.53-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "652346",
    "ThreadId": "267633",
    "Html": "<p>I just started so there is really not much code yet</p>\r\n<p>I uploaded the zip (<span class=\"filename\" title=\"NYRCPTAGXAddon.zip Shared with: People with a link Date modified: 2 minutes ago Type: Compressed (zipped) Folder Size: 941 KB\" dir=\"ltr\">NYRCPTAGXAddon)</span>&nbsp;here:</p>\r\n<p><a href=\"https://skydrive.live.com/redir.aspx?cid=4f0ce6c357477187&amp;resid=4F0CE6C357477187!121&amp;authkey=jAqYuAXpZr0%24\">https://skydrive.live.com/redir.aspx?cid=4f0ce6c357477187&amp;resid=4F0CE6C357477187!121&amp;authkey=jAqYuAXpZr0%24</a></p>\r\n<p>Thanks!</p>",
    "PostedDate": "2011-08-04T06:09:23.433-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "652639",
    "ThreadId": "267633",
    "Html": "<p>Hi Guido,</p>\n<p>Have you had chance to look at the problem with my code?</p>\n<p>At mean time, I'm trying&nbsp;out using code through Module initialize to register the view with region (not by ViewExport attribute). So my ModuleA look like this:</p>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">&nbsp;[<span style=\"color: #2b91af;\">ModuleExport</span>(<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">ModuleAIni</span>))]\r\n&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">public</span>&nbsp;<span style=\"color: blue;\">class</span>&nbsp;<span style=\"color: #2b91af;\">ModuleAIni</span>&nbsp;:&nbsp;<span style=\"color: #2b91af;\">IModule</span>\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style=\"color: #2b91af;\">Import</span>]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">public</span>&nbsp;<span style=\"color: #2b91af;\">IRegionManager</span>&nbsp;regionManager;\r\n \r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">public</span>&nbsp;<span style=\"color: blue;\">void</span>&nbsp;Initialize()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: blue;\">this</span>.regionManager.RegisterViewWithRegion(<span style=\"color: #a31515;\">\"MainRegion\"</span>,<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">ModuleAView</span>));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: blue;\"><pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">&nbsp;</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">This ModuleA is configured in bootstrapper:</pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: blue;\"><pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">&nbsp;<span style=\"color: blue;\">this</span>.AggregateCatalog.Catalogs.Add(<span style=\"color: blue;\">new</span>&nbsp;<span style=\"color: #2b91af;\">AssemblyCatalog</span>(<span style=\"color: blue;\">typeof</span>(<span style=\"color: #2b91af;\">ModuleAIni</span>).Assembly)); </pre>\n</span></pre>\n</span></pre>\n</pre>\n<p><span style=\"color: blue;\">&nbsp;The region is defined in Shell&nbsp;</span></p>\n<p><span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">ContentControl</span><span style=\"color: red;\">&nbsp;prism</span><span style=\"color: blue;\">:</span><span style=\"color: red;\">RegionManager.RegionName</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">&nbsp;\"MainRegion\"</span>&nbsp;<span style=\"color: red;\">&nbsp;Grid.Row</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"1\"</span><span style=\"color: red;\">&nbsp;Margin</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"5,5,5,5\"</span><span style=\"color: red;\">&nbsp;HorizontalContentAlignment</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"Stretch\"</span><span style=\"color: red;\">&nbsp;VerticalContentAlignment</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"Stretch\"</span><span style=\"color: blue;\">/&gt;</span></p>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: #000000;\">This is basicaly follow the Prism Trainning kit \"7-Navigation\". But the view currently don't show up, I guess is because the button click is triggering the navigation to get the view. </span></pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><span style=\"color: #000000;\">What do I need to do if I want</span><span style=\"color: #000000;\"> the view to show up when app is started?</span></pre>\n<pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\"><pre style=\"font-family: Consolas; background: white; color: black; font-size: 13px;\">\r\n</pre>\nThanks!</pre>",
    "PostedDate": "2011-08-04T13:01:17.487-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "652804",
    "ThreadId": "267633",
    "Html": "<p>These are more tests I did.</p>\r\n<p>Create MEF and Unity standalong WPF app and they both work fine in terms of registering View with region.</p>\r\n<p>Create MEF and Unity WPF hosted in other app (ArcGIS Explore,&nbsp;just like in the code I uploaded), none of them work. When I check the regions using the injected IRegionManager in ModuleA, the count shows 0. Seems like regions can't be identified. Does this make sense?</p>\r\n<p>Thanks!</p>",
    "PostedDate": "2011-08-04T20:19:14.723-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "653054",
    "ThreadId": "267633",
    "Html": "<p>Finally, figured out the problem.</p>\r\n<p>Because the Application.current is null if this is a hosted WPF app, I need a dummy class which has to be the subclass of&nbsp;System.Window.Application. One of the test app I create didn't do subclass and it cause others stopped working.</p>\r\n<p>Thanks!</p>",
    "PostedDate": "2011-08-05T06:03:40.277-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "653095",
    "ThreadId": "267633",
    "Html": "<p>Hi,</p>\n<p>I'm glad you've found a solution to your problem. Thank you for sharing this with the rest of the community, as it might be helpful for other users experiencing similar problems when using Prism from within another hosting application.</p>\n<p>Guido Leandro Maliandi<br /> <a href=\"http://blogs.southworks.net/gmaliandi\">http://blogs.southworks.net/gmaliandi</a></p>",
    "PostedDate": "2011-08-05T06:36:29.527-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]