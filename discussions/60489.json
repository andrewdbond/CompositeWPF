[
  {
    "Id": "204834",
    "ThreadId": "60489",
    "Html": "<p>I would like to place several menu items from different moduls in the shell's main menu at predefined places. I do it as follows:</p>\r\n<p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Menu</span><span style=\"color:Blue\">&gt;</span><br>    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">MenuItem</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">File</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>                            <br>        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">MenuItem</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{x:Static properties:Gui.Menu_File_Exit}</span><span style=\"color:Black\">&quot;</span><br>                  <span style=\"color:Red\">Command</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding Path=ExitCommand}</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span><br>        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">ContentControl</span> <span style=\"color:Red\">cal:RegionManager.RegionName</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{x:Static inf:RegionNames.MenuFileOnlineRegion}</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>                                                       <br>    <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">MenuItem</span><span style=\"color:Blue\">&gt;</span><br><span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Menu</span><span style=\"color:Blue\">&gt;</span><br></pre>\r\n</div>\r\nAnd in the module I add a UserControl to the above defined region.</p>\r\n<p>&nbsp;</p>\r\n<p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>_regionManager.RegisterViewWithRegion(RegionNames.MenuFileOnlineRegion,<br>                () =&gt; _onlineMenuPresenter.View);<br><br>And this UserControl contains just a single MenuItem:<br></pre>\r\n</div>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">UserControl</span> <span style=\"color:Red\">x:Class</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Views.Menus.OnlineMenuView</span><span style=\"color:Black\">&quot;</span><br>             <span style=\"color:Red\">xmlns</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:Black\">&quot;</span><br>             <span style=\"color:Red\">xmlns:x</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:Black\">&quot;</span><br>             <span style=\"color:Red\">xmlns:properties</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">clr-namespace:Properties</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span><br>    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">MenuItem</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{x:Static properties:Gui.Menu_File_Online}</span><span style=\"color:Black\">&quot;</span><br>              <span style=\"color:Red\">IsChecked</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding Path=IsConnected, Mode=OneWay}</span><span style=\"color:Black\">&quot;</span><br>              <span style=\"color:Red\">Command</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding Path=OnlineCommand}</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span><br><span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">UserControl</span><span style=\"color:Blue\">&gt;</span><br></pre>\r\n</div>\r\n</p>\r\n<p>This all works as expected, but the contributed MenuItem looks different from the the ones directly defined in the shell. That because the ContentControl gets wrapped inside a additional MenuItem, for whatever reason. How can I avoid this additional MenuItem? Are there other, better ways to achieve the same?</p>\r\n<p>Thanks for help,</p>\r\n<p>Dominik</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-06-24T00:07:31.41-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "205545",
    "ThreadId": "60489",
    "Html": "<p>Hi Dominik,</p>\r\n<p>I'm new to CAB. But I would try to put a Interface(IMenuCommand) in a Infrastructure Assembly.</p>\r\n<p>Create a MenuCommandViewModel in the Module, wich Implements this Interface.</p>\r\n<p>In the Shell I would create a DataTemplate rendering this Interface.</p>\r\n<p>_regionManager.RegisterViewWithRegion(RegionNames.MenuFileOnlineRegion,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; () =&gt; MenuCommandViewModel);</p>\r\n<p>But perhaps I'm overlooking something.</p>\r\n<p>Gru&szlig; Timo</p>",
    "PostedDate": "2009-06-25T10:26:45.597-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "205589",
    "ThreadId": "60489",
    "Html": "<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>Hi Dominik, </span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>I have been able to reproduce the scenario you mention, but it seems to be a WPF problem and not related with prism (the same happens if you add the <strong>UserControl</strong> to the <strong>MenuItem</strong> Directly):</span></span></span></p>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>Menu</span><span style=\"color:blue\" lang=EN-US>&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>MenuItem</span><span style=\"color:black\" lang=EN-US> </span><span style=\"color:red\" lang=EN-US>Header</span><span style=\"color:blue\" lang=EN-US>=</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>File</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>&gt;</span><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:#993366\" lang=EN-US><span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>MenuItem</span><span style=\"color:black\" lang=EN-US> </span><span style=\"color:red\" lang=EN-US>Header</span><span style=\"color:blue\" lang=EN-US>=</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>{x:Static properties:Gui.Menu_File_Exit}</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:#993366\" lang=EN-US> </span><span style=\"color:red\" lang=EN-US>Command</span><span style=\"color:blue\" lang=EN-US>=</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>{Binding Path=ExitCommand}</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>/&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>Controls:MyUserControlWithOneMenuItem</span><span style=\"color:blue\" lang=EN-US>/&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\" lang=EN-US>&lt;/</span><span style=\"color:#a31515\" lang=EN-US>MenuItem</span><span style=\"color:blue\" lang=EN-US>&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:blue\" lang=EN-US>&lt;/</span><span style=\"color:#a31515\" lang=EN-US>Menu</span><span style=\"color:blue\" lang=EN-US>&gt;</span></span></pre>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>From the<strong><em><span style=\"color:#1f497d\"> </span></em></strong>Prism point of View, you don't need to add a <strong>ContentControl</strong> to hold contributed menu items. As the <strong>MenuItem</strong> inherits from <strong>ItemsControl </strong>you can directly do as follows:</span></span></span></p>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>Menu</span><span style=\"color:blue\" lang=EN-US>&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>MenuItem</span><span style=\"color:black\" lang=EN-US> </span><span style=\"color:red\" lang=EN-US>Header</span><span style=\"color:blue\" lang=EN-US>=</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>File</span><span style=\"color:black\" lang=EN-US>&quot; </span><strong><span style=\"color:red\" lang=EN-US>cal:RegionManager.RegionName</span></strong><strong><span style=\"color:blue\" lang=EN-US>=</span></strong><strong><span style=\"color:black\" lang=EN-US>&quot;</span></strong><strong><span style=\"color:blue\" lang=EN-US>{x:Static inf:RegionNames.MenuFileOnlineRegion}</span></strong><strong><span style=\"color:black\" lang=EN-US>&quot;</span></strong><span style=\"color:blue\" lang=EN-US>&gt;</span><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\" lang=EN-US>&lt;</span><span style=\"color:#a31515\" lang=EN-US>MenuItem</span><span style=\"color:black\" lang=EN-US> </span><span style=\"color:red\" lang=EN-US>Header</span><span style=\"color:blue\" lang=EN-US>=</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>{x:Static properties:Gui.Menu_File_Exit}</span><span style=\"color:black\" lang=EN-US>&quot; </span><span style=\"color:red\" lang=EN-US>Command</span><span style=\"color:blue\" lang=EN-US>=</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>{Binding Path=ExitCommand}</span><span style=\"color:black\" lang=EN-US>&quot;</span><span style=\"color:blue\" lang=EN-US>/&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:black\" lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\" lang=EN-US>&lt;/</span><span style=\"color:#a31515\" lang=EN-US>MenuItem</span><span style=\"color:blue\" lang=EN-US>&gt;</span><span style=\"color:black\" lang=EN-US></span></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-family:Courier New\"><span style=\"color:blue\" lang=EN-US>&lt;/</span><span style=\"color:#a31515\" lang=EN-US>Menu</span><span style=\"color:blue\" lang=EN-US>&gt;</span></span></pre>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">Now, the problem is because of the </span><a href=\"http://msdn.microsoft.com/en-us/library/bb613556.aspx\"><span style=\"font-size:small;font-family:Calibri\">WPF Content Model</span></a><span style=\"font-size:small;font-family:Calibri\">. When you add an item to a <strong>Menu</strong> (or <strong>MenuItem</strong>) that does not inherit from <strong>MenuItem</strong>, a <strong>MenuItem</strong> is implicitly created. &nbsp;In your scenario you are adding a <strong>UserControl</strong>, so a <strong>MenuItem</strong> is created to wrap it. Moreover, these implicitly created <strong>ItemContainer</strong> are part of the LogicalTree, so they don't inherit styles.</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>So, how can you workaround this?</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt;text-indent:-18pt\"><span style=\"\"><span style=\"\"><span style=\"font-size:small;font-family:Calibri\">1.</span><span style=\"font:7pt &quot;Times New Roman&quot;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">One possibility is to create a </span><a href=\"http://msdn.microsoft.com/en-us/library/system.windows.controls.control.aspx\"><span style=\"font-size:small;font-family:Calibri\">Custom Control</span></a><span style=\"font-size:small;font-family:Calibri\"> (instead of a </span><a href=\"http://msdn.microsoft.com/en-us/library/system.windows.controls.usercontrol.aspx\"><span style=\"font-size:small;font-family:Calibri\">UserControl</span></a><span style=\"font-size:small;font-family:Calibri\">) to represent your view, and make it inherit from <strong>MenuItem</strong>. The drawback is that you will have to define the XAML for that control in the <strong>generic.xaml</strong> file.&nbsp; You can read further about WPF controls in </span><a href=\"http://msdn.microsoft.com/en-us/library/ms745025.aspx\"><span style=\"font-size:small;font-family:Calibri\">Control Authoring Overview</span></a><span style=\"font-size:small;font-family:Calibri\">. </span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>For example, you could the following class (this will work as the codebehind):</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>public</span><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US> <span style=\"color:blue\">class</span> <span style=\"color:#2b91af\">MyCustomControl</span> : <span style=\"color:#2b91af\">MenuItem</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>{</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp; <span style=\"color:blue\">static</span> <span style=\"color:#2b91af\">MyCustomControl</span> ()</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp; {</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; DefaultStyleKeyProperty.OverrideMetadata(<span style=\"color:blue\">typeof</span>(<span style=\"color:#2b91af\">MyCustomControl</span>), <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">FrameworkPropertyMetadata</span>(<span style=\"color:blue\">typeof</span>(<span style=\"color:#2b91af\">MyCustomControl</span>)));</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span style=\"font-size:10pt;font-family:'Courier New'\">}</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;font-family:'Courier New'\">}</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small\"><span style=\"font-family:Calibri\">And then in the <strong style=\"\">generic.xaml</strong> (this will work as the XAML file):</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>Style</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US> </span><span style=\"font-size:10pt;color:red;font-family:'Courier New'\" lang=EN-US>TargetType</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>=</span><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&quot;<span style=\"color:blue\">{x:Type local:</span><span style=\"color:#2b91af\"> MyCustomControl</span> <span style=\"color:blue\">}</span>&quot;<span style=\"color:blue\">&gt;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&nbsp; &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>Setter</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US> </span><span style=\"font-size:10pt;color:red;font-family:'Courier New'\" lang=EN-US>Property</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>=</span><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&quot;<span style=\"color:blue\">Template</span>&quot;<span style=\"color:blue\">&gt;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>Setter.Value</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>ControlTemplate</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US> </span><span style=\"font-size:10pt;color:red;font-family:'Courier New'\" lang=EN-US>TargetType</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>=</span><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&quot;<span style=\"color:blue\">{x:Type local:</span><span style=\"color:#2b91af\"> MyCustomControl</span> <span style=\"color:blue\">}</span>&quot;<span style=\"color:blue\">&gt;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>MenuItem</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US> </span><span style=\"font-size:10pt;color:red;font-family:'Courier New'\" lang=EN-US>Header</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>=</span><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&quot;<span style=\"color:blue\">YourHeader</span>&quot;<span style=\"color:blue\"> </span><span style=\"color:red\">Command</span><span style=\"color:blue\">=</span>&quot;<span style=\"color:blue\">{Binding Path=OnlineCommand}</span>&quot;<span style=\"color:blue\">&gt;&lt;/</span><span style=\"color:#a31515\">MenuItem</span><span style=\"color:blue\">&gt;</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\" lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\">ControlTemplate</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&nbsp;&nbsp;&nbsp; &lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\">Setter.Value</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&nbsp; &lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\">Setter</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&lt;/</span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\">Style</span><span style=\"font-size:10pt;color:blue;font-family:'Courier New'\">&gt;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt 36pt;text-indent:-18pt\"><span style=\"\"><span style=\"\"><span style=\"font-size:small;font-family:Calibri\">2.</span><span style=\"font:7pt &quot;Times New Roman&quot;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>If you are only going to have a <strong style=\"\">MenuItem</strong> in your view, you can create it by code. So when you register the view you could do as follows:</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'Courier New'\" lang=EN-US>MenuItem</span><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\"> menuItem = new </span></span><span style=\"font-size:10pt;color:#2b91af;font-family:'Courier New'\" lang=EN-US>MenuItem</span><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">() { Header = </span></span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\">&quot;Your Header&quot;</span><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US> };</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>menuItem.Command = OnlineCommand;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt 70.8pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">regionManager.Regions</span></span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>[&quot;MenuFileOnlineRegion&quot;</span><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">]</span></span><span style=\"font-size:10pt;color:#a31515;font-family:'Courier New'\" lang=EN-US>.</span><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>Add(menuItem);</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:10pt;font-family:'Courier New'\" lang=EN-US>&nbsp;</span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"\" lang=EN-US><span style=\"font-size:small;font-family:Calibri\">Hope it helps! As this is a WPF problem, and I'm not a WPF expert, you might get better answer in the </span><a href=\"http://social.msdn.microsoft.com/Forums/en-US/wpf/threads\"><span style=\"font-size:small;font-family:Calibri\">WPF Forum</span></a><span style=\"font-size:small;font-family:Calibri\">.</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\"><span style=\"\" lang=EN-US>&nbsp;</span></span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><span style=\"font-size:small\"><span style=\"font-family:Calibri\">Matias Bonaventura</span></span></p>\r\n<p style=\"margin:0cm 0cm 0pt\"><a href=\"http://blogs.southworks.net/\"><span style=\"font-size:small;font-family:Calibri\">http://blogs.southworks.net/matiasb</span></a></p>",
    "PostedDate": "2009-06-25T11:39:51.903-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "205594",
    "ThreadId": "60489",
    "Html": "<p>Checked my&nbsp;suggestion...&nbsp;and&nbsp;I couldn't get it to work.</p>\r\n<p>Why?!-&gt; <a href=\"http://www.dev102.com/2008/04/23/wpf-datatemplate-for-interfaces-not-supported/\">http://www.dev102.com/2008/04/23/wpf-datatemplate-for-interfaces-not-supported/</a></p>\r\n<p>Gru&szlig; Timo</p>",
    "PostedDate": "2009-06-25T11:47:39.627-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "205765",
    "ThreadId": "60489",
    "Html": "<p>Hi Timo and Matias,</p>\r\n<p>Thanks very much for your support! I will try one of the workarounds that Matias suggested.</p>\r\n<p>Dominik</p>",
    "PostedDate": "2009-06-25T22:27:03.533-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "246225",
    "ThreadId": "60489",
    "Html": "<p>@<a id=\"ctl00_ctl00_MasterContent_Content_PostRepeater_ctl04_UserNameLink\" href=\"http://www.codeplex.com/site/users/view/matiasbonaventura\">matiasbonaventura</a></p>\r\n<p>Thank you so much, I tried the second solution and it worked instantly.</p>\r\n<p>The first one seemed a bit complicated to me and since I'm simply creating MenuItems with Commands and the styling is done by the shell, the second workaround is very simple to do.</p>\r\n<p>Again, thanks, saved me a lot of time that would have been spent researching for a solution, but in this case the first search brought your answer :)</p>\r\n<p>Thorsten</p>",
    "PostedDate": "2009-10-15T13:43:45.217-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]