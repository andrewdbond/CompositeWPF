[
  {
    "Id": "903432",
    "ThreadId": "392910",
    "Html": "\r\n<p>I hope I will be able to&nbsp;explain&nbsp;my scenario.&nbsp;</p>\r\n<p>I've a &nbsp;Tab control and I've loaded a tab item on the start up. when i click on one of the the row's button, a new tab must open. I'm trying to acheive this using INavigation Aware and MEF.</p>\r\n<p>Deliveries.xaml is default tab. DataPoolView.xaml is the one which should load when i click on any of the row in Deliveries.xaml.\r\n</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>Deliveries.xaml.cs   \r\n [Export(<span style=\"color:blue\">typeof</span>(Deliveries))]\r\n     [PartCreationPolicy(CreationPolicy.NonShared)]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">partial</span> <span style=\"color:blue\">class</span> Deliveries : UserControl\r\n    {<span style=\"color:blue\">public</span> Deliveries()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        [Import]\r\n        <span style=\"color:blue\">public</span> IDeliveriesViewModel Model\r\n        {\r\n            <span style=\"color:blue\">get</span>\r\n            {\r\n                <span style=\"color:blue\">return</span> DataContext <span style=\"color:blue\">as</span> IDeliveriesViewModel;\r\n            }\r\n            <span style=\"color:blue\">set</span>\r\n            {\r\n                DataContext = value;\r\n            }\r\n        }\r\n    }\r\n\r\nthe VM\r\n [Export(<span style=\"color:blue\">typeof</span>(IDeliveriesViewModel))]\r\n    [PartCreationPolicy(CreationPolicy.NonShared)]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> DeliveriesViewModel : NotificationObject, IDeliveriesViewModel\r\n    {[ImportingConstructor]\r\n        <span style=\"color:blue\">public</span> DeliveriesViewModel(IRegionManager regionManager, IEventAggregator eventAggregator<span style=\"color:green\">/*, IDeliveryService deliveryService*/</span>)\r\n        {goToDataPool = <span style=\"color:blue\">new</span> DelegateCommand&lt;<span style=\"color:blue\">string</span>&gt;(NavigateToDataPool);}\r\n\r\n<span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> NavigateToDataPool(<span style=\"color:blue\">string</span> id) \r\n        {\r\n            <span style=\"color:blue\">var</span> parameters = <span style=\"color:blue\">new</span> UriQuery();\r\n            parameters.Add(<span style=\"color:#a31515\">&quot;datapool&quot;</span>, id);\r\n            regionManager.Regions[RegionNames.TabRegion].RequestNavigate(<span style=\"color:blue\">new</span> Uri(<span style=\"color:#a31515\">&quot;/DataPoolView&quot;</span> &#43; parameters.ToString(), UriKind.Relative), NavigationCompleted);\r\n        }\r\n\r\n <span style=\"color:blue\">public</span> ICommand GoToDataPoolCommand\r\n        {\r\n            <span style=\"color:blue\">get</span>\r\n            {                <span style=\"color:blue\">return</span> <span style=\"color:blue\">this</span>.goToDataPool;            }\r\n        }\r\n}\r\n\r\nsimilar to above, I have Datapool.xaml.cs\r\n\r\n [Export(<span style=\"color:#a31515\">&quot;DataPoolView&quot;</span>)]\r\n    [PartCreationPolicy(CreationPolicy.NonShared)]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">partial</span> <span style=\"color:blue\">class</span> DataPoolView : UserControl\r\n    {\r\n        <span style=\"color:blue\">public</span> DataPoolView()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n       [Import]\r\n        <span style=\"color:blue\">public</span> IDataPoolViewModel Model\r\n        {\r\n            <span style=\"color:blue\">get</span>{\r\n                <span style=\"color:blue\">return</span> DataContext <span style=\"color:blue\">as</span> IDataPoolViewModel;\r\n            }<span style=\"color:blue\">set</span>\r\n            {\r\n                DataContext = value;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nVM of Datapool\r\n[Export(<span style=\"color:blue\">typeof</span>(IDataPoolViewModel))]\r\n    [PartCreationPolicy(CreationPolicy.NonShared)]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> DataPoolViewModel : NotificationObject, INavigationAware, IDataPoolViewModel\r\n    {\r\n [ImportingConstructor]\r\n        <span style=\"color:blue\">public</span> DataPoolViewModel(IRegionManager regionManager, IEventAggregator eventAggregator )\r\n        {\r\n            <span style=\"color:blue\">this</span>.regionManager = regionManager;\r\n            <span style=\"color:blue\">this</span>.eventAggregator = eventAggregator;\r\n            <span style=\"color:green\">//DataPools = new DeliveryService().GetDataPools(&quot;ITG&quot;);</span>\r\n            headerInfo = <span style=\"color:#a31515\">&quot;DataPool&quot;</span>;\r\n        }\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">void</span> OnNavigatedTo(NavigationContext navigationContext)\r\n        {\r\n            <span style=\"color:blue\">string</span> id = navigationContext.Parameters[<span style=\"color:#a31515\">&quot;datapool&quot;</span>];\r\n\r\n            DataPools = <span style=\"color:blue\">new</span> DeliveryService().GetDataPools(id);\r\n            <span style=\"color:blue\">base</span>.RaisePropertyChanged(<span style=\"color:#a31515\">&quot;DataPools&quot;</span>);\r\n            \r\n        }\r\n}\r\nModule Class\r\n\r\n  [ModuleExport(<span style=\"color:blue\">typeof</span>(DeliveryModule))]\r\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> DeliveryModule : IModule\r\n    {\r\n        [Import(AllowRecomposition=<span style=\"color:blue\">false</span>)]\r\n        <span style=\"color:blue\">public</span> IRegionManager regionManager;\r\n\r\n \r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">void</span> Initialize()\r\n        {\r\n            <span style=\"color:blue\">this</span>.regionManager.RegisterViewWithRegion(RegionNames.TabRegion, <span style=\"color:blue\">typeof</span>(Deliveries));\r\n            \r\n        }\r\n    }\r\n</pre>\r\n<pre>Here is the problem:</pre>\r\n<pre>When I click on GotoDatapool button on deliveries.xaml, NavigationCompleted.result is true. it hits the break point NavigatedTo on datapoolviewmodel.</pre>\r\n<pre>It has both views in RegionsManager.(I checked in debug mode). but why is not getting activated?</pre>\r\n<pre>what am I doing wrong? Please help. I saw other samples. I couldn't see what i'm doing wrong. I'm new to prism. so struggling in this bit. </pre>\r\n<pre><br></pre>\r\n</div>\r\n<p></p>\r\n",
    "PostedDate": "2012-08-24T01:09:30.757-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "903605",
    "ThreadId": "392910",
    "Html": "\r\n<p>Hi,</p>\r\n<p>So far I couldn't find anything wrong within the code snippets you provided. Based on your descriptions I created a small sample, where the tab gets activated without problems when navigating to the &quot;<strong>DataPoolView</strong>&quot; perhaps, you could find\r\n it useful to compare any differences with your own implementation. Note that in my case I return false in the\r\n<strong>IsNavigationTarget </strong>method of the <strong>DataPoolViewModel</strong>, hence a new instance of the view is created each time you navigate to it.</p>\r\n<p>You could find the sample in my <a href=\"https://skydrive.live.com/#cid=7890102B5B8BC928&id=7890102B5B8BC928%21103\">\r\nSkyDrive account</a> under the name &quot;<strong>TabControlRegionSample</strong>&quot;.</p>\r\n<p>I hope you find this helpful,</p>\r\n<p>Agustin Adami<a href=\"http://blogs.southworks.net/aadami\"><br>\r\nhttp://blogs.southworks.net/aadami</a></p>\r\n",
    "PostedDate": "2012-08-24T07:04:51.067-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "907271",
    "ThreadId": "392910",
    "Html": "<p>Thanks a lot. sorry. I somehow hadn't seen this reply at all.&nbsp;</p>\r\n<p>I removed the registration in module and used viewexport on delivery view. it worked.&nbsp;</p>\r\n<p>thanks again for the effort.</p>\r\n<p>&nbsp;</p>\r\n<p>I'm now stuck in another problem. I was hoping you could help me with that?&nbsp;</p>\r\n<p>would be greatful</p>\r\n<p>&nbsp;</p>\r\n<p><a href=\"http://compositewpf.codeplex.com/discussions/394045\">http://compositewpf.codeplex.com/discussions/394045</a></p>\r\n<p>Kavya</p>",
    "PostedDate": "2012-09-01T06:14:33.377-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]