[
  {
    "Id": "150691",
    "ThreadId": "45183",
    "Html": "<p>I have a Shell that I reuse with different modules.  All the modules are in a subfolder &quot;Modules&quot;.<br>\r\nWhen I call the Shell, I'm passing a parameter with the name(s) of the module I want.  This way, from all the modules that are in the subfolder - that have the attribute LoadOnDemand=true) - I just want to load this whos name equals the parameter.<br>\r\n<br>\r\nI'm using the following bootstrapper:<br>\r\n <br>\r\nprotected override IModuleCatalog GetModuleCatalog()<br>\r\n        {<br>\r\n            return new DirectoryModuleCatalog() { ModulePath = @&quot;.\\Modules&quot; };<br>\r\n        }</p>\r\n<p>        protected override void ConfigureContainer()<br>\r\n        {<br>\r\n            Container.RegisterType&lt;IShell, Shell&gt;(new ContainerControlledLifetimeManager());<br>\r\n            base.ConfigureContainer();<br>\r\n        }</p>\r\n<p>        protected override DependencyObject CreateShell()<br>\r\n        {<br>\r\n            IModuleCatalog moduleCatalog = Container.Resolve&lt;IModuleCatalog&gt;();<br>\r\n            IModuleManager moduleManager = Container.Resolve&lt;IModuleManager&gt;();</p>\r\n<p>            foreach (var module in moduleCatalog.Modules)<br>\r\n            {<br>\r\n                if (module.ModuleName == &quot;MyModuleParameter&quot;)<br>\r\n                    moduleManager.LoadModule(module.ModuleName);<br>\r\n            }</p>\r\n<p>            ShellPresenter presenter = Container.Resolve&lt;ShellPresenter&gt;();<br>\r\n            presenter.SetTitle(App.Title);<br>\r\n            IShell view = presenter.View;</p>\r\n<p>            view.ShowView();</p>\r\n<p>            return view as DependencyObject;</p>\r\n<p>        }<br>\r\n<br>\r\nBut the module catalog is allways empty.  (but it's work if I change the attribute to LoadOnDemand=false). I can't found how to enumerate the modules and load on demand those I need.<br>\r\n<br>\r\nThanks for the help.<br>\r\n<br>\r\nMarcos</p>\r\n",
    "PostedDate": "2009-01-25T07:21:11.927-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "150952",
    "ThreadId": "45183",
    "Html": "<p style=\"margin:0in 0in 0pt\"><span style=\"font-family:calibri\">Hi Marcos,</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-family:calibri\">The DirectoryModuleCatalog’s constructor does not initialize the catalog. Also, the <b>CreateShell</b> method is called before the <b>InitializeModules</b> method during the application startup, so the <b>Directory Module Catalog</b> and the <b>Module Manager</b> are not initialized (that is why the <b>Modules</b> collection is empty). </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-family:calibri\">Try moving the code that loads your modules to the <b>InitializeModules</b> method in your <b>Bootstrapper</b> class:</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt 35.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">protected override void InitializeModules()</span></p>\r\n<p style=\"margin:0in 0in 0pt 35.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">{</span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">base.InitializeModules();</span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">IModuleCatalog moduleCatalog = Container.Resolve&lt;IModuleCatalog&gt;();</span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">IModuleManager moduleManager = Container.Resolve&lt;IModuleManager&gt;();</span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">foreach (var module in moduleCatalog.Modules)</span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">{</span></p>\r\n<p style=\"margin:0in 0in 0pt 107.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">if (module.ModuleName == &quot;MyModuleParameter&quot;)</span></p>\r\n<p style=\"margin:0in 0in 0pt 143.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">moduleManager.LoadModule(module.ModuleName);</span></p>\r\n<p style=\"margin:0in 0in 0pt 71.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">}</span></p>\r\n<p style=\"margin:0in 0in 0pt 35.4pt\"><span style=\"font-size:10pt;font-family:'courier new'\">}</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt -0.6pt\"><span style=\"font-family:calibri\">Please let me know if this helps.</span></p>\r\n<p style=\"margin:0in 0in 0pt -0.6pt\"><span style=\"font-family:calibri\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt -0.6pt\"><span style=\"font-family:calibri\">Mariano Converti</span></p>\r\n<p style=\"margin:0in 0in 0pt -0.6pt\"><a href=\"http://blogs.southworks.net/mconverti\"><span style=\"font-family:calibri\">http://blogs.southworks.net/mconverti</span></a> </p>\r\n",
    "PostedDate": "2009-01-26T07:23:01.06-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "151062",
    "ThreadId": "45183",
    "Html": "Thanks a lot, Mariano, that made the trick.<br>\r\n<br>\r\nI'm using Prism V2 a lot, and it's good to have your - and your colegues - support when we adopt a new technology.\r\n",
    "PostedDate": "2009-01-26T12:15:05.6-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "183034",
    "ThreadId": "45183",
    "Html": "Hi Mariano/Marcos,<br>\r\n<br>\r\nI am using Prism Modules for ondemand xap download. I able to LoadModule as per RemoteModuleLoading example. Now i want to access types of downloaded modules. as per document it is loaded into AppDomain. I am confused, how to call methods of downloaded modules?<br>\r\ne.g. I having SLApp1, SLApp2. SLApp2 having one class file with one sample method. Using Modules i have loaded SLApp2 in Memory. Now the question is, how should i call the sample method if SLApp2? here is the code inside SLApp1 page.xaml.cs.<br>\r\n<br>\r\n<span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">private</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#0000ff\">void</span><span style=\"font-size:13px\"> LoadModule_ButtonClick(</span><span style=\"font-size:13px;color:#0000ff\">object</span><span style=\"font-size:13px\"> sender, </span><span style=\"font-size:13px;color:#2b91af\">RoutedEventArgs</span><span style=\"font-size:13px\"> e)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n</span></p>\r\n<span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">.moduleManager.LoadModule(</span><span style=\"font-size:13px;color:#a31515\">&quot;SLApp2&quot;</span><span style=\"font-size:13px\">);\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>}<br>\r\n<br>\r\nAfter this i am stuck. How should i call method if SLApp2??<br>\r\n<br>\r\nThanks,<br>\r\nChirag</p>\r\n</span></p>\r\n<br>\r\n",
    "PostedDate": "2009-04-23T14:51:52.41-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]