[
  {
    "Id": "532895",
    "ThreadId": "237592",
    "Html": "\r\n<p><span style=\"color:#0043c8\">Hello,</span></p>\r\n<p><span style=\"color:#0043c8\">I ran into a problem that seems to be happening when I use dependency injection via Prism (version 4) &nbsp;with a view that contains DataTemplate that has DockPanel inside it (or any control from the toolkit namespace). When\r\n the view is instantiated by the container, I get an exception that the namespace that contains the DockPanel does not exist, even though in the designer everything is fine. What makes this even less understood, is that if I add DockPanel to the user control\r\n (in addition to the one in the DataTemplate) then everything is fine, both DockPanels are shown.</span></p>\r\n<p><span style=\"color:#0043c8\">Here is how the code basically looks:</span></p>\r\n<ul>\r\n<li><span style=\"color:#4f81bd\">&nbsp;</span><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</span></span><span style=\"color:#0043c8\">The namespace used for DockPanel was added by Visual Studio when I dragged it from the toolbox, and is defined like this:</span>\r\n</li></ul>\r\n<p><span style=\"color:red\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xmlns</span><span style=\"color:blue\">:</span><span style=\"color:red\">toolkit</span><span style=\"color:blue\">=&quot;<a href=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit\">http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit</a>&quot;</span></p>\r\n<ul>\r\n<li><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</span></span><span style=\"color:#0043c8\">In the user control the DataTemplate is defined as follows:</span>\r\n</li></ul>\r\n<p><span style=\"color:#0043c8\">&nbsp;</span><span style=\"font-family:Consolas,'Courier New',Courier,monospace; white-space:pre\"><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl.Resources</span><span style=\"color:blue\">&gt;</span></span></p>\r\n<pre><span style=\"color:blue\">&nbsp;&nbsp;&nbsp; &lt;</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:red\">&nbsp;x</span><span style=\"color:blue\">:</span><span style=\"color:red\">Key</span><span style=\"color:blue\">=&quot;JobItemDataTemplate&quot;&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Border</span><span style=\"color:red\">&nbsp;BorderBrush</span><span style=\"color:blue\">=&quot;Black&quot;</span><span style=\"color:red\">&nbsp;BorderThickness</span><span style=\"color:blue\">=&quot;0,0,0,1&quot;&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span><span style=\"color:red\">&nbsp;Width</span><span style=\"color:blue\">=&quot;*&quot;/&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;  </span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span><span style=\"color:red\">&nbsp;Width</span><span style=\"color:blue\">=&quot;100&quot;/&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">toolkit</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">DockPanel</span><span style=\"color:red\">&nbsp;Grid.Column</span><span style=\"color:blue\">=&quot;0&quot;&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">TextBlock</span><span style=\"color:red\">&nbsp;Text</span><span style=\"color:blue\">=&quot;{</span><span style=\"color:#a31515\">Binding</span><span style=\"color:red\">&nbsp;Name</span><span style=\"color:blue\">,</span><span style=\"color:red\">&nbsp;Mode</span><span style=\"color:blue\">=TwoWay}&quot;</span><span style=\"color:red\">&nbsp;FontWeight</span><span style=\"color:blue\">=&quot;Bold&quot;</span><span style=\"color:red\">&nbsp;toolkit</span><span style=\"color:blue\">:</span><span style=\"color:red\">DockPanel.Dock</span><span style=\"color:blue\">=&quot;Top&quot;/&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">TextBlock</span><span style=\"color:red\">&nbsp;Text</span><span style=\"color:blue\">=&quot;{</span><span style=\"color:#a31515\">Binding</span><span style=\"color:red\">&nbsp;Description</span><span style=\"color:blue\">,</span><span style=\"color:red\">&nbsp;Mode</span><span style=\"color:blue\">=TwoWay}&quot;</span><span style=\"color:red\">&nbsp;Height</span><span style=\"color:blue\">=&quot;24&quot;</span><span style=\"color:red\">&nbsp;toolkit</span><span style=\"color:blue\">:</span><span style=\"color:red\">DockPanel.Dock</span><span style=\"color:blue\">=&quot;Top&quot;/&gt;</span></pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">toolkit</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">DockPanel</span><span style=\"color:blue\">&gt;</span></pre>\r\n<p><span style=\"font-size:10pt; color:#a31515\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style=\"font-size:10pt; color:blue\">&lt;/</span><span style=\"font-size:10pt; color:#a31515\">Grid</span><span style=\"font-size:10pt; color:blue\">&gt;</span><span style=\"font-size:10pt\"><br>\r\n<span style=\"color:#a31515\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Border</span><span style=\"color:blue\">&gt;</span><br>\r\n<span style=\"color:blue\">&nbsp;&nbsp;&nbsp; &lt;/</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:blue\">&gt;</span><br>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl.Resources</span><span style=\"color:blue\">&gt;</span></span></p>\r\n<p><span style=\"color:#0043c8\">&nbsp;</span></p>\r\n<ul>\r\n<li><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</span></span><span style=\"color:#0043c8\">Then I have a ListBox in the user control itself that uses the above template:</span>\r\n</li></ul>\r\n<p><span style=\"color:#0043c8\">&nbsp;</span><span style=\"font-family:Consolas,'Courier New',Courier,monospace; white-space:pre\"><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:red\">&nbsp;x</span><span style=\"color:blue\">:</span><span style=\"color:red\">Name</span><span style=\"color:blue\">=&quot;LayoutRoot&quot;</span><span style=\"color:red\">&nbsp;Background</span><span style=\"color:blue\">=&quot;White&quot;&gt;</span></span></p>\r\n<pre><span style=\"color:blue\">&nbsp;&nbsp;&nbsp; &lt;</span><span style=\"color:#a31515\">ListBox</span><span style=\"color:red\">&nbsp;x</span><span style=\"color:blue\">:</span><span style=\"color:red\">Name</span><span style=\"color:blue\">=&quot;m_jobsListBox&quot;</span>&nbsp;<span style=\"color:red\">ItemTemplate</span><span style=\"color:blue\">=&quot;{</span><span style=\"color:#a31515\">StaticResource</span><span style=\"color:red\">&nbsp;JobItemDataTemplate</span><span style=\"color:blue\">}&quot;</span>&nbsp;</pre>\r\n<pre><span style=\"color:#a31515\">&nbsp;&nbsp; </span><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">ListBox</span><span style=\"color:blue\">&gt;</span></pre>\r\n<pre><span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span></pre>\r\n<p><span style=\"color:#0043c8\">&nbsp;</span></p>\r\n<ul>\r\n<li><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</span></span><span style=\"color:#0043c8\">In my ModulInit, I register my user control within a region like this:</span>\r\n</li></ul>\r\n<pre>m_regionManager.RegisterViewWithRegion(&nbsp;<span style=\"color:#2b91af\">RegionNames</span>.JobsListRegion, ()&nbsp;=&gt;&nbsp;m_container.Resolve&lt;<span style=\"color:#2b91af\">JobsListView</span>&gt;()&nbsp;);</pre>\r\n<pre>&nbsp;</pre>\r\n<ul>\r\n<li><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</span></span><span style=\"color:#0043c8\">In run time, I get the following exception:</span>\r\n</li></ul>\r\n<pre><span style=\"color:black\">&quot;The type 'DockPanel' was not found because 'http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit' is an unknown namespace.&quot;</span></pre>\r\n<pre><span style=\"color:#0043c8\">&nbsp;</span></pre>\r\n<ul>\r\n<li><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</span></span><span style=\"color:#0043c8\">If I add the following line after the ListBox, then everything is fine! -</span>\r\n</li></ul>\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">toolkit</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">DockPanel</span><span style=\"color:red\">&nbsp;Height</span><span style=\"color:blue\">=&quot;100&quot;</span><span style=\"color:red\">&nbsp;HorizontalAlignment</span><span style=\"color:blue\">=&quot;Left&quot;</span><span style=\"color:red\">&nbsp;Margin</span><span style=\"color:blue\">=&quot;33,188,0,0&quot;</span><span style=\"color:red\">&nbsp;Name</span><span style=\"color:blue\">=&quot;dockPanel1&quot;</span><span style=\"color:red\">&nbsp;VerticalAlignment</span><span style=\"color:blue\">=&quot;Top&quot;</span><span style=\"color:red\">&nbsp;Width</span><span style=\"color:blue\">=&quot;200&quot;</span><span style=\"color:red\">&nbsp;Background</span><span style=\"color:blue\">=&quot;#FF00D600&quot;&nbsp;/&gt;</span></pre>\r\n<pre><span style=\"color:black\">&nbsp;</span></pre>\r\n<ul>\r\n<li><span style=\"color:#0043c8\">&middot;<span style=\"font:normal normal normal 7pt/normal 'Times New Roman'\">&nbsp;</span></span><span style=\"color:#0043c8\">The problems happens with any control defined in the toolkit namespace, not just the DockPanel.\r\n</span></li><li><span style=\"color:#0043c8\"><span style=\"font-size:11pt; color:#0043c8\">I tried cleaning the solution, removing the DockPanel and inserting it again (for possible references problem), and it didn't help</span><br>\r\n</span></li><li><span style=\"color:#0043c8\"><span style=\"font-size:15px\">This also works if I don't use Prism and create the user control without dependency injection (plain&nbsp;silverlight&nbsp;4 application).</span></span>\r\n</li></ul>\r\n<pre><span style=\"color:#0043c8\">&nbsp;</span><span style=\"color:#0043c8\">&nbsp;</span></pre>\r\n<pre><span style=\"color:#0043c8\">Any help would be welcome.</span></pre>\r\n<pre><span style=\"color:#0043c8\">Thanks!</span></pre>\r\n<pre><span style=\"color:#0043c8\">Ilan</span></pre>\r\n",
    "PostedDate": "2010-12-08T07:20:58.53-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "533561",
    "ThreadId": "237592",
    "Html": "\r\n<p>Hi Ilan,</p>\r\n<p>You could try adding a reference to the Toolkit assemblies you are using in your Shell project.</p>\r\n<p>Let me know if you keep experiencing this problem after adding the aforementioned reference.</p>\r\n<p>You might also find <a href=\"View.aspx?ThreadId=229202\">this thread</a> useful.</p>\r\n<p>I hope you find this helpful.</p>\r\n<p>Guido Leandro Maliandi <br>\r\n<a href=\"http://blogs.southworks.net/gmaliandi\">http://blogs.southworks.net/gmaliandi</a></p>\r\n",
    "PostedDate": "2010-12-09T11:24:17.607-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "534570",
    "ThreadId": "237592",
    "Html": "\r\n<p>Hi Guido,</p>\r\n<p>Yes, adding the reference to the shell project indeed solved the problem, thanks!</p>\r\n<p>From the link that you sent it seems that if I use control with data template I manually need to add references it uses to the application project. Surprising.</p>\r\n<p>Thank you for the quick response and for resolving this issue for us!</p>\r\n<p>Ilan</p>\r\n",
    "PostedDate": "2010-12-12T00:05:33.183-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]