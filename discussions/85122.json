[
  {
    "Id": "290069",
    "ThreadId": "85122",
    "Html": "<p>Hi,</p>\r\n<p>I have some problems to get PRISM2, WPF, templates and a TabControl to work together smoothly.</p>\r\n<p>I declared the TabControl as &quot;MainRegion&quot;. For the TabItems inside that TabControl I defined a Style that sets a template for the content of the TabItem.</p>\r\n<p>This template mainly consists of a Grid with 3 rows. The upper an lower row are defined as regions (&quot;PerModuleToolBarRegion&quot; and &quot;PerModuleFooterRegion&quot;).</p>\r\n<p>The middle row is bound to the content of the TabItem (using TemplateBinding).</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Setter</span> <span style=\"color:Red\">Property</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">ContentTemplate</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Setter.Value</span><span style=\"color:Blue\">&gt;</span>\r\n                    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">DataTemplate</span><span style=\"color:Blue\">&gt;</span>\r\n                        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Border</span> <span style=\"color:Red\">BorderBrush</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Black</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">CornerRadius</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">12</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">BorderThickness</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">1</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">&gt;</span>\r\n                            <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Grid</span><span style=\"color:Blue\">&gt;</span>\r\n                                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Grid.RowDefinitions</span><span style=\"color:Blue\">&gt;</span>\r\n                                    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">RowDefinition</span> <span style=\"color:Red\">Height</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">30</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n                                    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">RowDefinition</span> <span style=\"color:Red\">Height</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">*</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n                                    <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">RowDefinition</span> <span style=\"color:Red\">Height</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">40</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">/&gt;</span>\r\n                                <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Grid.RowDefinitions</span><span style=\"color:Blue\">&gt;</span>\r\n                                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">ItemsControl</span>\r\n                                    <span style=\"color:Red\">x:Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">perModuleToolBar</span><span style=\"color:Black\">&quot;</span>\r\n                                    <span style=\"color:Red\">Regions:RegionManager.RegionName</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{x:Static Infrastructure:RegionNames.PerModuleToolBarRegion}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">/&gt;</span>\r\n                                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">ContentPresenter</span>\r\n                                <span style=\"color:Red\">Content</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{TemplateBinding Property=Content}</span><span style=\"color:Black\">&quot;</span>\r\n                                <span style=\"color:Red\">Grid.Row</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">1</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">/&gt;</span>\r\n                                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">ContentControl</span>\r\n                                    <span style=\"color:Red\">Grid.Row</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">2</span><span style=\"color:Black\">&quot;</span>\r\n                                    <span style=\"color:Red\">x:Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">perModuleFooter</span><span style=\"color:Black\">&quot;</span>\r\n                                    <span style=\"color:Red\">Regions:RegionManager.RegionName</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{x:Static Infrastructure:RegionNames.PerModuleFooterRegion}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Blue\">/&gt;</span>\r\n                            <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Grid</span><span style=\"color:Blue\">&gt;</span>\r\n                        <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Border</span><span style=\"color:Blue\">&gt;</span>\r\n                    <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">DataTemplate</span><span style=\"color:Blue\">&gt;</span>\r\n                <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">Setter.Value</span><span style=\"color:Blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>I can get the main view of my modules inside the &quot;Content&quot; area of the TabItem and the module specific content seems to go inside of the &quot;PerModule&quot; scoped regions as I can see the views of one of my modules in there.</p>\r\n<p>However I expected those scoped regions to switch view when I switch to another TabItem.</p>\r\n<p>So when I go from Tab1 to Tab2 I expected the displayed TabItem to change like this:</p>\r\n<p>Tab1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tab2</p>\r\n<p>View1ToolBar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; View2ToolBar</p>\r\n<p>View1Content&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; View2Content</p>\r\n<p>View1Footer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; View2Footer</p>\r\n<p>&nbsp;</p>\r\n<p>Is there a built-in way to achieve this goal and I just missed something or do I have to implement that kind of behaviour myself?</p>\r\n<p>&nbsp;</p>\r\n<p>Thanks in advance for your help!</p>\r\n<p>&nbsp;</p>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow:hidden\">\r\n<pre><span style=\"color:Blue\">PerModuleToolBarRegion</span></pre>\r\n</div>",
    "PostedDate": "2010-02-12T04:27:01.237-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "291382",
    "ThreadId": "85122",
    "Html": "<p>How are you adding the views to the regions? I assume you are actually seeing 2 tabs on the tab control?</p>",
    "PostedDate": "2010-02-16T12:18:20.07-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "291561",
    "ThreadId": "85122",
    "Html": "<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">var</span> innerScopeRegionManager = RegionManager.RegisterViewWithRegion(RegionNames.MainRegion, <span style=\"color:Blue\">typeof</span> (MatrixView));\r\n\r\ninnerScopeRegionManager.RegisterViewWithRegion(RegionNames.PerModuleFooterRegion, <span style=\"color:Blue\">typeof</span>(MatrixFooterView));\r\ninnerScopeRegionManager.RegisterViewWithRegion(RegionNames.PerModuleToolBarRegion,\r\n                                                           <span style=\"color:Blue\">typeof</span>(MatrixToolBarView));\r\n<br><br>The code for the second tab looks the same and yes, they are both shown. And when I switch between the tabs the view that is added <br>directly to the main region changes correctly. Just the parts that go into the <em>PerModuleFooterRegion </em>and <em>PerModuleToolBarRegion </em>do not behave the way I expected it.</pre>\r\n</div>\r\n<p>&nbsp;</p>",
    "PostedDate": "2010-02-16T22:27:24.6-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "291694",
    "ThreadId": "85122",
    "Html": "<p id=2e8a5620-fdf9-012c-57d1-1231390b4121>Hi,</p>\r\n<p id=2e8a64f0-fdf9-012c-57d2-1231390b4121>I was able to reproduce  your situation and have been able to reach the same behavior as you are.  What is happening is that when you set a style for each <strong>TabItem</strong> only one instance of the <strong>PerModuleFooterRegion</strong> and <strong>PerModuleToolBarRegion</strong> are being created. Another thing to consider is that with the code  above you are not actually creating a scoped region manager (you can  read about the way to achieve that <a href=\"http://msdn.microsoft.com/en-us/library/dd458914.aspx\">here</a>).  Therefore, the views are being added to the same region instance.</p>\r\n<p id=2e8a7490-fdf9-012c-57d3-1231390b4121>As a result, you should be  able to see both Toolbar views at the same time (as it is an  AllActiveRegion) and only one of the Footer views.</p>\r\n<p id=2e8a83c0-fdf9-012c-57d4-1231390b4121>A possible way to get this  working with scoped regions would be adding the <strong>PerModuleFooterRegion</strong> and <strong>PerModuleToolBarRegion</strong> to each content view  (creating a Composite View). That way, you can create a scoped region  manager for each of those views and you will be able to achieve the  behavior you wanted in the first place.</p>\r\n<p id=2e8a9380-fdf9-012c-57d5-1231390b4121>Please let me know if this  helps.</p>\r\n<p id=2e8aa3f0-fdf9-012c-57d6-1231390b4121>Damian Schenkelman    <br><a href=\"http://blogs.southworks.net/dschenkelman\">http://blogs.southworks.net/dschenkelman</a></p>",
    "PostedDate": "2010-02-17T05:56:40.627-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]