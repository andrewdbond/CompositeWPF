[
  {
    "Id": "460583",
    "ThreadId": "217552",
    "Html": "<p>Hi, I have a set of tabs in my shell window and one main region whicxh is a  contentcontrol. I also have four modules that I want to load on demand  when a certain tab is selected. So when tab1 is selected I want to load  moduleA, when tab2 is selected I want to load ModuleB, etc. The first  module loads on when the application starts. The problem is that when I  change the tab nothing happens. There are no errors tough. I'm using  this version of prism Composite Application Guidance for WPF and  Silverlight - October 2009.</p>\r\n<p>I tried this approach:</p>\r\n<p>Shell:</p>\r\n<pre><code><span>public</span><span> </span><span>partial</span><span> </span><span>class</span><span> </span><span>Shell</span><span> </span><span>:</span><span> </span><span>RibbonWindow</span><span>,</span><span> </span><span>IShellView</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>private</span><span> </span><span>readonly</span><span> </span><span>IRegionManager</span><span> regionManager</span><span>;</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>private</span><span> </span><span>readonly</span><span> </span><span>IModuleManager</span><span> moduleManager</span><span>;</span><span><br><br>&nbsp; &nbsp; </span><span>public</span><span> </span><span>Shell</span><span>(</span><span>IModuleManager</span><span> moduleManager</span><span>)</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>this</span><span>.</span><span>moduleManager </span><span>=</span><span> moduleManager</span><span>;</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>InitializeComponent</span><span>();</span><span><br><br>&nbsp; &nbsp; </span><span>}</span><span><br><br>&nbsp; &nbsp; </span><span>public</span><span> </span><span>void</span><span> </span><span>ShowView</span><span>()</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>this</span><span>.</span><span>Show</span><span>();</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br><br><br><br>&nbsp; &nbsp; </span><span>private</span><span> </span><span>void</span><span> onTabSelection</span><span>(</span><span>object</span><span> sender</span><span>,</span><span> </span><span>RoutedEventArgs</span><span> e</span><span>)</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span>this</span><span>.</span><span>moduleManager</span><span>.</span><span>LoadModule</span><span>(</span><span>&quot;ModuleB&quot;</span><span>);</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>}</span><span><br></span><span>}</span><span><br><br>Bootstrapper:<br><br></span></code><pre><code><span> </span><span>public</span><span> </span><span>partial</span><span> </span><span>class</span><span> </span><span>MyBootstrapper</span><span> </span><span>:</span><span> </span><span>UnityBootstrapper</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>protected</span><span> </span><span>override</span><span> </span><span>IModuleCatalog</span><span> </span><span>GetModuleCatalog</span><span>()</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span>var</span><span> catalog </span><span>=</span><span> </span><span>new</span><span> </span><span>ModuleCatalog</span><span>();</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catalog</span><span>.</span><span>AddModule</span><span>(</span><span>typeof</span><span>(</span><span>ModuleA</span><span>)).</span><span>AddModule</span><span>(</span><span>typeof</span><span>(</span><span>ModuleB</span><span>));</span><span><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>return</span><span> catalog</span><span>;</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br><br>&nbsp; &nbsp; </span><span>protected</span><span> </span><span>override</span><span> </span><span>void</span><span> </span><span>ConfigureContainer</span><span>()</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>Container</span><span>.</span><span>RegisterType</span><span>&lt;</span><span>IShellView</span><span>,</span><span> </span><span>Shell</span><span>&gt;();</span><span><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>base</span><span>.</span><span>ConfigureContainer</span><span>();</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br><br><br><br>&nbsp; &nbsp; </span><span>protected</span><span> </span><span>override</span><span> </span><span>DependencyObject</span><span> </span><span>CreateShell</span><span>()</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>ShellPresenter</span><span> presenter </span><span>=</span><span> </span><span>Container</span><span>.</span><span>Resolve</span><span>&lt;</span><span>ShellPresenter</span><span>&gt;();</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>IShellView</span><span> view </span><span>=</span><span> presenter</span><span>.</span><span>View</span><span>;</span><span><br><br>&nbsp; &nbsp; &nbsp; &nbsp; view</span><span>.</span><span>ShowView</span><span>();</span><span><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>return</span><span> view </span><span>as</span><span> </span><span>DependencyObject</span><span>;</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br><br></span><span>}</span><span><br></span></code></pre>\r\nAnd moduleB that I want to be able to load on demand (I used to use this  commented line that's why I left it here):<br><br>\r\n<pre><code><span>[</span><span>Module</span><span>(</span><span>ModuleName</span><span> </span><span>=</span><span> </span><span>&quot;ModuleB&quot;</span><span>,</span><span> </span><span>OnDemand</span><span> </span><span>=</span><span> </span><span>true</span><span>)]</span><span><br></span><span>public</span><span> </span><span>class</span><span> </span><span>ModuleB</span><span> </span><span>:</span><span> </span><span>IModule</span><span><br></span><span>{</span><span> &nbsp;<br><br>&nbsp; &nbsp; </span><span>private</span><span> </span><span>readonly</span><span> </span><span>IUnityContainer</span><span> _container</span><span>;</span><span><br>&nbsp; &nbsp; </span><span>private</span><span> </span><span>readonly</span><span> </span><span>IRegionManager</span><span> _regionManager</span><span>;</span><span><br><br>&nbsp; &nbsp; </span><span>public</span><span> </span><span>ModuleB</span><span>(</span><span>IUnityContainer</span><span> container</span><span>,</span><span> </span><span>IRegionManager</span><span> regionManager</span><span>)</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; _container </span><span>=</span><span> container</span><span>;</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; _regionManager </span><span>=</span><span> regionManager</span><span>;</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br>&nbsp; &nbsp; </span><span>public</span><span> </span><span>void</span><span> </span><span>Initialize</span><span>()</span><span> </span><span>{</span><span><br><br>&nbsp; &nbsp; &nbsp; &nbsp; _regionManager</span><span>.</span><span>Regions</span><span>[</span><span>&quot;MainRegion&quot;</span><span>].</span><span>Add</span><span>(</span><span>new</span><span> </span><span>ModuleBView</span><span>());</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span>this</span><span>.</span><span>RegisterViewsAndServices</span><span>();</span><span><br><br>&nbsp; &nbsp; &nbsp; </span><span>// &nbsp;this._regionManager.RegisterViewWithRegion(RegionNames.MainRegion, () =&gt; _container.Resolve&lt;MissionProfileView&gt;());</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br>&nbsp; &nbsp; </span><span>protected</span><span> </span><span>void</span><span> </span><span>RegisterViewsAndServices</span><span>()</span><span><br>&nbsp; &nbsp; </span><span>{</span><span><br>&nbsp; &nbsp; &nbsp; &nbsp; _container</span><span>.</span><span>RegisterType</span><span>&lt;</span><span>Modules</span><span>.</span><span>ModuleBView</span><span>&gt;();</span><span><br>&nbsp; &nbsp; </span><span>}</span><span><br></span><span>}</span><span><br></span></code></pre>\r\n<br>What am I doing wrong here? How should I proceed?<br><br>Thanks for any help.</pre>",
    "PostedDate": "2010-06-28T03:31:14.05-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "462749",
    "ThreadId": "217552",
    "Html": "<p id=05003310-6687-012d-747a-123139097e21>Hi,</p>\r\n<p>As this <a href=\"View.aspx?ThreadId=217492\">forum  thread</a> is closely related to this question you can follow it over  there.</p>\r\n<p id=0500a0e0-6687-012d-747c-123139097e21>Fernando Antivero <br><a href=\"http://blogs.southworks.net/fantivero\">http://blogs.southworks.net/fantivero</a></p>",
    "PostedDate": "2010-07-02T10:56:50.853-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]