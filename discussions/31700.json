[
  {
    "Id": "105280",
    "ThreadId": "31700",
    "Html": "<p>Hi,<br>\r\n<br>\r\nI am creating xbap application with Composite Application. it contains four modules and <br>\r\none WPF browser application. this application contain two pages one is login.xaml and shell.xaml.</p>\r\n<p>once i logged in, it should open all modules in shell page.</p>\r\n<p>here only i am getting problem to show module in shell becasue, shell.xaml is the Page. not Window.</p>\r\n<p>if it is Window, we will give following code to show the modules in shell .</p>\r\n<p>shell shell = Container.Resolve&lt;shell&gt;();<br>\r\nshell.Show();&nbsp;&nbsp; <br>\r\nreturn shell;</p>\r\n<p>but i am using Page not Window. so how do show modules in shell.<br>\r\nwhen i am using Page, shell.show() method not working. it is raising error.</p>\r\n<p>please help me as soon as possible to fix this issue.</p>\r\n<p>Regards,<br>\r\nJ.Alexander.</p>\r\n",
    "PostedDate": "2008-07-16T22:57:32.153-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "105542",
    "ThreadId": "31700",
    "Html": "I haven't tried to create and Xbap application with C/WPF yet, though there shouldn't be any reason why you can't use the CreateShell() method. What you do with the shell creation is up to you, you don't need to invoke shell.Show(), you can even return null but if you do this you must register the region manager to your UI manually.<br>\r\n<br>\r\n-Brett<br>\r\n",
    "PostedDate": "2008-07-17T19:28:24.463-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "105543",
    "ThreadId": "31700",
    "Html": "<p>The following works - please let me know if you find a better&nbsp;way.<br>\r\n<br>\r\nI used the Commanding.sln and added a WpfBrowserApp project - the CommandingBootStrapper.cs file follows:<br>\r\n<br>\r\nusing System.ComponentModel;<br>\r\nusing System.Windows;<br>\r\nusing Commanding.Modules.Order;<br>\r\nusing Microsoft.Practices.Composite.Modularity;<br>\r\nusing Microsoft.Practices.Composite.UnityExtensions;<br>\r\nusing WpfBrowserApp;</p>\r\n<p>namespace Commanding<br>\r\n{<br>\r\n&nbsp;&nbsp;&nbsp; class CommandingBootstrapper : UnityBootstrapper<br>\r\n&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Page1 shell = null;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public CommandingBootstrapper(Page1 page)<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell = page;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected override DependencyObject CreateShell()<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Container.BuildUp&lt;Page1&gt;(shell);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return shell;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected override IModuleEnumerator GetModuleEnumerator()<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new StaticModuleEnumerator().AddModule(typeof(OrderModule));<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>\r\n&nbsp;&nbsp;&nbsp; }<br>\r\n}</p>\r\n<hr>\r\n<br>\r\nPage1 Code behind looks as follows (didn't need the Container - just wanted to see if it would be there - it was :)<br>\r\n<br>\r\n<p>using System;<br>\r\nusing System.Collections.Generic;<br>\r\nusing System.Linq;<br>\r\nusing System.Text;<br>\r\nusing System.Windows;<br>\r\nusing System.Windows.Controls;<br>\r\nusing System.Windows.Data;<br>\r\nusing System.Windows.Documents;<br>\r\nusing System.Windows.Input;<br>\r\nusing System.Windows.Media;<br>\r\nusing System.Windows.Media.Imaging;<br>\r\nusing System.Windows.Navigation;<br>\r\nusing System.Windows.Shapes;<br>\r\nusing Microsoft.Practices.Unity;<br>\r\nusing Commanding;</p>\r\n<p>namespace WpfBrowserApp<br>\r\n{<br>\r\n&nbsp;&nbsp;&nbsp; /// &lt;summary&gt;<br>\r\n&nbsp;&nbsp;&nbsp; /// Interaction logic for Page1.xaml<br>\r\n&nbsp;&nbsp;&nbsp; /// &lt;/summary&gt;<br>\r\n&nbsp;&nbsp;&nbsp; public partial class Page1 : Page<br>\r\n&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private IUnityContainer _container;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Dependency]<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public IUnityContainer Container<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set { _container = value; }<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public Page1()<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InitializeComponent();</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CommandingBootstrapper bootstrapper = <br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new CommandingBootstrapper(this);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootstrapper.Run();</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>\r\n&nbsp;&nbsp;&nbsp; }<br>\r\n}</p>\r\n<hr>\r\n<br>\r\nI grabbed the XAML from Command projects Shell (minus the Window.Background elements) so that the CommandingBootStrapper wouldn't puke - it needs the GlobalCommandsRegion and MainRegion.&nbsp;&nbsp; I was pretty surprised to find the Page1 XBAP code ran exactly as the Shell WPF!&nbsp; <br>\r\n<br>\r\n&lt;Page x:Class=&quot;WpfBrowserApp.Page1&quot;<br>\r\n&nbsp;&nbsp;&nbsp; xmlns=&quot;<a href=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a>&quot;<br>\r\n&nbsp;&nbsp;&nbsp; xmlns:x=&quot;<a href=\"http://schemas.microsoft.com/winfx/2006/xaml\">http://schemas.microsoft.com/winfx/2006/xaml</a>&quot;<br>\r\n&nbsp;&nbsp;&nbsp; xmlns:cal=&quot;<a href=\"http://www.codeplex.com/CompositeWPF\">http://www.codeplex.com/CompositeWPF</a>&quot;<br>\r\n&nbsp;&nbsp;&nbsp; Title=&quot;Page1&quot;&gt;<br>\r\n&nbsp;&nbsp;&nbsp; &lt;Grid&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Grid.RowDefinitions&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;RowDefinition Height=&quot;50&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;RowDefinition Height=&quot;30&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;RowDefinition Height=&quot;*&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Grid.RowDefinitions&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;StackPanel Grid.Row=&quot;1&quot;&nbsp; Margin=&quot;10,0,10,0&quot;&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ItemsControl cal:RegionManager.RegionName=&quot;GlobalCommandsRegion&quot; /&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/StackPanel&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Border Grid.Row=&quot;2&quot; CornerRadius=&quot;4,4,4,4&quot; BorderBrush=&quot;#193441&quot; Background=&quot;#FCFFF5&quot; BorderThickness=&quot;2,2,2,2&quot; Margin=&quot;10,0,10,10&quot; Padding=&quot;5&quot;&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;StackPanel&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ItemsControl cal:RegionManager.RegionName=&quot;MainRegion&quot; /&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/StackPanel&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Border&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Label HorizontalAlignment=&quot;Left&quot; Margin=&quot;155,5,0,0&quot; Width=&quot;Auto&quot; Content=&quot;QuickStart&quot; FontWeight=&quot;Normal&quot; Foreground=&quot;#FF373737&quot; FontSize=&quot;24&quot; FontFamily=&quot;Corbel&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Label HorizontalAlignment=&quot;Left&quot; Margin=&quot;10,5,0,0&quot; Width=&quot;Auto&quot; Content=&quot;Commanding&quot; FontWeight=&quot;Bold&quot; Foreground=&quot;#FF373737&quot; FontSize=&quot;24&quot; FontFamily=&quot;Corbel&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Separator Margin=&quot;0,0,0,0&quot; VerticalAlignment=&quot;Bottom&quot; Height=&quot;10&quot; BorderBrush=&quot;#193441&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp; &lt;/Grid&gt;<br>\r\n&lt;/Page&gt;<br>\r\n",
    "PostedDate": "2008-07-17T19:31:12.753-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "182758",
    "ThreadId": "31700",
    "Html": "hi BillyKat<br>\r\n<br>\r\nyour work around is great but it kept erroring for me. The region\r\nmanger was trying to add regions before the UnityContainer was set,\r\nbecause they where declared in the XAML. i had to change a couple of\r\nthings.<br>\r\n<br>\r\nwould fail in RegionManager.cs line 121<br>\r\n<br>\r\nIServiceLocator locator = ServiceLocator.Current;<br>\r\n<br>\r\nServiceLocator.Current null reference error.<br>\r\n<br>\r\nSo i made a couple of changes<br>\r\n<br>\r\nxaml<br>\r\n&lt;ItemsControl Name=&quot;GlobalCommandsRegion&quot; /&gt;<br>\r\n&lt;ItemsControl Name=&quot;MainRegion&quot;&nbsp; /&gt;<br>\r\n<br>\r\nbootstarpper<br>\r\n<br>\r\nprotected override DependencyObject CreateShell()<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Container.BuildUp(shell);<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RegionManager.SetRegionName(shell.MainRegion, &quot;MainRegion&quot;);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RegionManager.SetRegionName(shell.GlobalCommandsRegion, &quot;GlobalCommandsRegion&quot;);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return shell;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>\r\n<br>\r\nCheers<br>\r\n<br>\r\ntheHaggis<br>\r\n<br>\r\n<br>\r\n<br>\r\n",
    "PostedDate": "2009-04-23T05:45:26.903-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]