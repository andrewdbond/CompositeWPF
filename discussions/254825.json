[
  {
    "Id": "601009",
    "ThreadId": "254825",
    "Html": "\r\n<p>Hi, I have a very strange behavior.</p>\r\n<p>In my shell, I have 1 region (rootpageregion).</p>\r\n<p>When LoginModule loaded, in it's Initialize() method I call this:</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>_regionManager.Regions[Uri.Root.RegionName].NavigationService.RequestNavigate(Uri.Login.LoginViewUri);\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<p>Which register my LoginPage view to&nbsp;rootpageregion and&nbsp;inside this view (LoginPage) there is a region (loginpageregion).</p>\r\n<p>In my LoginPage.OnNavigatedTo I have this:</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>            IRegion region = _regionManager.Regions[Uri.Login.RegionName];\r\n\r\n            <span style=\"color:blue\">if</span> (_loginView == <span style=\"color:blue\">null</span>)\r\n            {\r\n                _loginView = Mef.Container.GetExportedValue&lt;LoginView&gt;();\r\n                region.Add(_loginView);\r\n            }\r\n\r\n            <span style=\"color:blue\">if</span> (_roleSelectorView == <span style=\"color:blue\">null</span>)\r\n            {\r\n                _roleSelectorView = Mef.Container.GetExportedValue&lt;RoleSelectorView&gt;();\r\n                region.Add(_roleSelectorView);\r\n            }\r\n\r\n            <span style=\"color:blue\">if</span> (_testView == <span style=\"color:blue\">null</span>)\r\n            {\r\n                _testView = Mef.Container.GetExportedValue&lt;TestView&gt;();\r\n                region.Add(_testView);\r\n            }\r\n\r\n            <span style=\"color:blue\">switch</span> ((Uri.Login.Parameter)Enum.Parse(<span style=\"color:blue\">typeof</span>(Uri.Login.Parameter), navigationContext.Parameters[Uri.Login.Action], <span style=\"color:blue\">true</span>))\r\n            {\r\n                <span style=\"color:blue\">case</span> Uri.Login.Parameter.LoginView:\r\n                    region.Activate(_loginView);\r\n                    <span style=\"color:blue\">break</span>;\r\n\r\n                <span style=\"color:blue\">case</span> Uri.Login.Parameter.RoleSelectorView:\r\n                    region.Activate(_roleSelectorView);\r\n                    <span style=\"color:blue\">break</span>;\r\n\r\n                <span style=\"color:blue\">case</span> Uri.Login.Parameter.TestView:\r\n                    region.Activate(_testView);\r\n                    <span style=\"color:blue\">break</span>;\r\n            }\r\n\r\n</pre>\r\n</div>\r\n<pre>Uri.Login.RegionName is a const: &quot;loginpageregion&quot;</pre>\r\n<pre><br></pre>\r\n<pre>Everything working fine until the code in the _loginView run this code:</pre>\r\n<pre><div style=\"color:black; background-color:white\"><pre>            <span style=\"color:#0000ff\">_regionManager.RequestNavigate(Uri.Login.RegionName, Uri.Login.LoginViewUri</span>\r\n                , (e2) =&gt;\r\n                {\r\n                    <span style=\"color:#ff0000\">System.Windows.MessageBox.Show(e2.Error.ToString());</span>\r\n                });\r\n\r\n</pre>\r\n</div>\r\ne2.Error contains &quot;System.ArgumentException: Value does not fall within the expected range.&quot;</pre>\r\n<pre>The most strange is, before the blue line above executed, &quot;loginpageregion&quot; still has 3 views (<a title=\"picture\" href=\"http://www.freeimagehosting.net/uploads/37d1e02ff4.png\" target=\"_blank\">see the picture</a>).</pre>\r\n<pre>After executed, in the red line it has 4 views now. LoginPage view added to it (<a title=\"picture\" href=\"http://www.freeimagehosting.net/uploads/c4f353b3d6.png\" target=\"_blank\">see the picture</a>).</pre>\r\n<p>&nbsp;</p>\r\n<p>Am I doing something wrong, please help...</p>\r\n<p>I'm new to prism, thanks.</p>\r\n",
    "PostedDate": "2011-04-21T07:19:51.68-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "601809",
    "ThreadId": "254825",
    "Html": "<p>It looks like this behavior is related to this <a title=\"Thread\" href=\"http://compositewpf.codeplex.com/discussions/233232\" target=\"_blank\">thread</a>. Just take a look to my post there.</p>\r\n<p>So everytime I try to navigate back, it will create a new instance.</p>\r\n<p>And since the target is the child region, that's why the new instance is added to it's view.</p>\r\n<p>Spent days to figure this out...</p>",
    "PostedDate": "2011-04-23T00:10:40.013-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]